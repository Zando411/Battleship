(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(t,e,n){return{isPlaced:!1,key:t,name:e,length:n,vertical:!1,hits:0,sunk:!1,hit:function(){this.hits++,this.sinkCheck()},sinkCheck:function(){this.hits>=this.length?this.sunk=!0:this.sunk=!1}}}t.d({},{Uo:()=>w,DH:()=>C,hM:()=>P,t:()=>B});var n=10,r=10;function a(){for(var t=new Array(n),e=0;e<t.length;e++){t[e]=new Array(r);for(var a=0;a<t[e].length;a++)t[e][a]={isHit:!1,hasShip:null}}return t}function i(){for(var t=["Aircraft Carrier","Battleship","Cruiser","Destroyer","Destroyer","Submarine","Submarine"],n=[5,4,3,2,2,1,1],r=[0,1,2,3,4,5,6],a=[],i=0;i<7;i++){var o=e(r[i],t[i],n[i]);a.push(o)}return a}function o(t){return t.every((function(t){return t.sunk}))}function l(t,e,a){return e>0&&null!==a[e-1][t].hasShip||e<n-1&&null!==a[e+1][t].hasShip||t>0&&null!==a[e][t-1].hasShip||t<r-1&&null!==a[e][t+1].hasShip||e>0&&t>0&&null!==a[e-1][t-1].hasShip||e>0&&t<r-1&&null!==a[e-1][t+1].hasShip||e<n-1&&t>0&&null!==a[e+1][t-1].hasShip||e<n-1&&t<r-1&&null!==a[e+1][t+1].hasShip}function s(t,e,a,i){var o=e.key,s=e.length,c=e.vertical,u=function(t,e,a,i,o){var s=t.length;if(i){if(a+s>n)return!1;for(var c=0;c<s;c++)if(l(e,a+c,o))return!1}else{if(e+s>r)return!1;for(var u=0;u<s;u++)if(l(e+u,a,o))return!1}return!0}(e,a,i,c,t);if(u){if(c)for(var d=0;d<s;d++)t[i+d][a].hasShip=o;else for(var h=0;h<s;h++)t[i][a+h].hasShip=o;return e.isPlaced=!0,!0}return!1}function c(t){var e=t.ships,n=t.gameboard;function r(t){t=function(t,e){return e.vertical=!!t,e}(Math.random()>=.5,t);var e={x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())};s(n,t,e.x,e.y)||r(t)}t.clearBoard(),e.forEach((function(t){t.isPlaced=!1,t.vertical=!1})),e.forEach((function(t){r(t)}))}var u,d,h=!1,f=null;function p(t){for(var e=document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)}function v(t){p("playerGameboard");var e=document.getElementById("playerGameboard"),n=0;t.gameboard.forEach((function(t){var r=0;t.forEach((function(t){var a=document.createElement("div");a.classList.add("gridPart"),a.dataset.contains=t.hasShip,a.dataset.cellHit=t.isHit,a.dataset.y=n,a.dataset.x=r,null!==t.hasShip&&(a.style.backgroundColor="#B0BEC5"),!0===t.isHit&&(a.style.backgroundColor="#FFD97D"),null!==t.hasShip&&!0===t.isHit&&(a.style.backgroundColor="#EE6055"),e.appendChild(a),r++})),n++}))}function m(t){p("opponentGameboard");var e=document.getElementById("opponentGameboard"),n=0;t.gameboard.forEach((function(t){var r=0;t.forEach((function(t){var a=document.createElement("div");a.classList.add("gridPart"),a.dataset.contains=t.hasShip,a.dataset.cellHit=t.isHit,a.dataset.y=n,a.dataset.x=r,a.addEventListener("click",(function(t){var e,n;e=t.target.dataset.x,n=t.target.dataset.y,!1===h&&(P.takeTurn(e,n),C.takeTurn()),!0===h&&(g("winner-popup","block"),document.getElementById("winningName").textContent=f)})),!0===t.isHit&&(a.style.backgroundColor="#FFD97D"),null!==t.hasShip&&!0===t.isHit&&(a.style.backgroundColor="#EE6055"),e.appendChild(a),r++})),n++}))}function y(t){p("playerShips");var e=document.getElementById("playerShips");t.forEach((function(t){var n=document.createElement("div");n.classList.add("ship"),n.dataset.shipKey=t.key,n.dataset.isPlaced=t.isPlaced,n.dataset.isVertical=t.vertical,!0===t.isPlaced?(n.setAttribute("draggable",!1),n.classList.add("placed")):(n.setAttribute("draggable",!0),n.classList.add("draggable"));for(var r=0;r<t.length;r++){var a=document.createElement("div");a.classList.add("shipPart"),a.dataset.partIndex=r,n.appendChild(a)}e.appendChild(n)})),function(t){document.querySelectorAll(".draggable").forEach((function(e){e.addEventListener("dragstart",(function(t){d=t.target.dataset.shipKey,e.classList.add("dragging")})),e.addEventListener("dragend",(function(){e.classList.remove("dragging")})),e.addEventListener("mousedown",(function(t){u=Number(t.target.dataset.partIndex)})),e.addEventListener("click",(function(e){console.log(e.currentTarget);var n=e.currentTarget.dataset.shipKey,r=t[n];console.log(r),console.log(r.vertical),r.vertical=!r.vertical,y(t)}))}))}(t)}function g(t,e){document.getElementById(t).style.display=e}function b(){document.getElementById("playerName").textContent=P.name}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===E(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(){var t,e="Player",n=a(),r=i(),l=!1;function s(){for(var t=0;t<n.length;t++)for(var e=0;e<n[t].length;e++)n[t][e].hasShip=null,n[t][e].isHit=!1}function u(t,n){C.receiveAttack(t,n),o(C.ships)&&(f="".concat(e),h=!0),m(C)}return k(t={name:e,gameboard:n,ships:r,takeTurn:u,allShipsPlaced:l,placeShips:function(){c(this)},validateAllShipsPlaced:function(){var t=function(t){return t.every((function(t){return t.isPlaced}))}(r);if(!0!==t)throw new Error("Please place all ships on the board");l=!0},clearBoard:s},"takeTurn",u),k(t,"receiveAttack",(function(t,e){if(!0===n[e][t].isHit)throw new Error("This square has already been hit!");if(n[e][t].isHit=!0,null!==n[e][t].hasShip){var a=n[e][t].hasShip;r[a].hit()}})),k(t,"resetVariables",(function(){e="Player",s(),l=!1,r.forEach((function(t){t.isPlaced=!1,t.vertical=!1,t.hits=0,t.sunk=!1}))})),t}(),C=function(){var t,e="Computer",n=new Set,r=a(),l=i(),s=!1;function u(){var t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());return n.has("".concat(t,",").concat(e))?u():(n.add("".concat(t,",").concat(e)),[t,e])}function d(){for(var t=0;t<r.length;t++)for(var e=0;e<r[t].length;e++)r[t][e].hasShip=null,r[t][e].isHit=!1}function p(){var t,n,r=(t=u(),n=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){c=!0,a=t}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(t,n)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];P.receiveAttack(a,i),o(P.ships)&&(f="".concat(e),h=!0),v(P)}return t={name:e,gameboard:r,ships:l,takeTurn:p,isComputer:!0,placeShips:function(){c(this)},allShipsPlaced:s,clearBoard:d,receiveAttack:function(t,e){if(!0===r[e][t].isHit)throw new Error("This square has already been hit!");if(r[e][t].isHit=!0,null!==r[e][t].hasShip){var n=r[e][t].hasShip;l[n].hit()}}},k(t,"takeTurn",p),k(t,"resetVariables",(function(){d(),s=!1,l.forEach((function(t){t.isPlaced=!1,t.vertical=!1,t.hits=0,t.sunk=!1}))})),t}();function w(){var t,e,n,r,i;b(),g("ships","flex"),g("opponent-board","none"),y(P.ships),v(i=P),function(t){var e=document.getElementById("playerGameboard");e.addEventListener("dragover",(function(t){t.preventDefault()})),e.addEventListener("dragenter",(function(t){t.preventDefault()})),e.addEventListener("drop",(function(e){e.preventDefault();var n=e.target,r=t.ships[d].vertical;console.log(r),console.log(u);var a=Number(n.dataset.x-(r?0:u)),i=Number(n.dataset.y-(r?u:0));console.log(a,i),s(t.gameboard,t.ships[d],a,i),v(t),y(t.ships)}))}(i),t=document.getElementById("clearBoard"),e=document.getElementById("startGame"),n=document.getElementById("randomBoard"),r=document.getElementById("playAgain"),t.addEventListener("click",(function(){var t;(t=P).gameboard=a(),t.allShipsPlaced=!1,t.ships.forEach((function(t){t.isPlaced=!1,t.vertical=!1})),v(t),!0!==t.isComputer&&y(t.ships)})),n.addEventListener("click",(function(){c(P),v(P),y(P.ships)})),e.addEventListener("click",(function(){var t=document.getElementById("nameInput");""!==t.value&&(P.name=t.value,t.value="",B())})),r.addEventListener("click",(function(){P.resetVariables(),C.resetVariables(),g("winner-popup","none"),w()}))}function B(){P.validateAllShipsPlaced(),b(),g("ships","none"),m(C),C.placeShips(),g("opponent-board","flex")}w()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRILEVBQXdCLENBQUNTLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLElDQWxGLFNBQVNJLEVBQVdYLEVBQUtZLEVBQU1DLEdBQzdCLE1BQU8sQ0FDTEMsVUFBVSxFQUNWZCxJQUFBQSxFQUNBWSxLQUFBQSxFQUNBQyxPQUFBQSxFQUNBRSxVQUFVLEVBQ1ZDLEtBQU0sRUFDTkMsTUFBTSxFQUNOQyxJQUFLLFdBQ0hDLEtBQUtILE9BQ0xHLEtBQUtDLFdBQ1AsRUFDQUEsVUFBVyxXQUNMRCxLQUFLSCxNQUFRRyxLQUFLTixPQUNwQk0sS0FBS0YsTUFBTyxFQUVaRSxLQUFLRixNQUFPLENBRWhCLEVBRUosQyw2Q0NsQkEsSUFBTUksRUFBTyxHQUNQQyxFQUFVLEdBRWhCLFNBQVNDLElBRVAsSUFEQSxJQUFNQyxFQUFZLElBQUlDLE1BQU1KLEdBQ25CSyxFQUFJLEVBQUdBLEVBQUlGLEVBQVVYLE9BQVFhLElBQUssQ0FDekNGLEVBQVVFLEdBQUssSUFBSUQsTUFBTUgsR0FDekIsSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUlILEVBQVVFLEdBQUdiLE9BQVFjLElBQ3ZDSCxFQUFVRSxHQUFHQyxHQUFLLENBQ2hCQyxPQUFPLEVBQ1BDLFFBQVMsS0FHZixDQUNBLE9BQU9MLENBQ1QsQ0FFQSxTQUFTTSxJQWFQLElBWkEsSUFBSUMsRUFBUSxDQUNWLG1CQUNBLGFBQ0EsVUFDQSxZQUNBLFlBQ0EsWUFDQSxhQUVFQyxFQUFPLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDMUJoQyxFQUFNLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDekJpQyxFQUFRLEdBQ0hQLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUFLLENBQzFCLElBQUlRLEVBQU92QixFQUFXWCxFQUFJMEIsR0FBSUssRUFBTUwsR0FBSU0sRUFBS04sSUFDN0NPLEVBQU1FLEtBQUtELEVBQ2IsQ0FDQSxPQUFPRCxDQUNULENBRUEsU0FBU0csRUFBZ0JILEdBQ3ZCLE9BQU9BLEVBQU1JLE9BQU0sU0FBQ0gsR0FBSSxPQUFLQSxFQUFLakIsSUFBSSxHQUN4QyxDQU1BLFNBQVNxQixFQUFnQkMsRUFBR0MsRUFBR2hCLEdBRTdCLE9BQUlnQixFQUFJLEdBQXFDLE9BQWhDaEIsRUFBVWdCLEVBQUksR0FBR0QsR0FBR1YsU0FLN0JXLEVBQUluQixFQUFPLEdBQXFDLE9BQWhDRyxFQUFVZ0IsRUFBSSxHQUFHRCxHQUFHVixTQUtwQ1UsRUFBSSxHQUFxQyxPQUFoQ2YsRUFBVWdCLEdBQUdELEVBQUksR0FBR1YsU0FLN0JVLEVBQUlqQixFQUFVLEdBQXFDLE9BQWhDRSxFQUFVZ0IsR0FBR0QsRUFBSSxHQUFHVixTQUt2Q1csRUFBSSxHQUFLRCxFQUFJLEdBQXlDLE9BQXBDZixFQUFVZ0IsRUFBSSxHQUFHRCxFQUFJLEdBQUdWLFNBSzFDVyxFQUFJLEdBQUtELEVBQUlqQixFQUFVLEdBQXlDLE9BQXBDRSxFQUFVZ0IsRUFBSSxHQUFHRCxFQUFJLEdBQUdWLFNBS3BEVyxFQUFJbkIsRUFBTyxHQUFLa0IsRUFBSSxHQUF5QyxPQUFwQ2YsRUFBVWdCLEVBQUksR0FBR0QsRUFBSSxHQUFHVixTQU1uRFcsRUFBSW5CLEVBQU8sR0FDWGtCLEVBQUlqQixFQUFVLEdBQ3NCLE9BQXBDRSxFQUFVZ0IsRUFBSSxHQUFHRCxFQUFJLEdBQUdWLE9BTTVCLENBZ0NBLFNBQVNZLEVBQVVqQixFQUFXa0IsRUFBYUgsRUFBR0MsR0FDNUMsSUFBTXhDLEVBQU0wQyxFQUFZMUMsSUFDbEJhLEVBQVM2QixFQUFZN0IsT0FDckI4QixFQUFhRCxFQUFZM0IsU0FFekI2QixFQW5DUixTQUF5QlYsRUFBTUssRUFBR0MsRUFBR0csRUFBWW5CLEdBQy9DLElBQU1YLEVBQVNxQixFQUFLckIsT0FFcEIsR0FBSThCLEVBQVksQ0FDZCxHQUFJSCxFQUFJM0IsRUFBU1EsRUFDZixPQUFPLEVBR1QsSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUliLEVBQVFhLElBRTFCLEdBQUlZLEVBQWdCQyxFQUFHQyxFQUFJZCxFQUFHRixHQUM1QixPQUFPLENBR2IsS0FBTyxDQUNMLEdBQUllLEVBQUkxQixFQUFTUyxFQUNmLE9BQU8sRUFHVCxJQUFLLElBQUlJLEVBQUksRUFBR0EsRUFBSWIsRUFBUWEsSUFFMUIsR0FBSVksRUFBZ0JDLEVBQUliLEVBQUdjLEVBQUdoQixHQUM1QixPQUFPLENBR2IsQ0FFQSxPQUFPLENBQ1QsQ0FPd0JxQixDQUNwQkgsRUFDQUgsRUFDQUMsRUFDQUcsRUFDQW5CLEdBR0YsR0FBSW9CLEVBQWUsQ0FDakIsR0FBSUQsRUFDRixJQUFLLElBQUlqQixFQUFJLEVBQUdBLEVBQUliLEVBQVFhLElBQzFCRixFQUFVZ0IsRUFBSWQsR0FBR2EsR0FBR1YsUUFBVTdCLE9BR2hDLElBQUssSUFBSTBCLEVBQUksRUFBR0EsRUFBSWIsRUFBUWEsSUFDMUJGLEVBQVVnQixHQUFHRCxFQUFJYixHQUFHRyxRQUFVN0IsRUFJbEMsT0FEQTBDLEVBQVk1QixVQUFXLEdBQ2hCLENBQ1QsQ0FDRSxPQUFPLENBRVgsQ0FpQkEsU0FBU2dDLEVBQWlCQyxHQUN4QixJQUFNQyxFQUFXRCxFQUFLZCxNQUNoQlQsRUFBWXVCLEVBQUt2QixVQU92QixTQUFTeUIsRUFBWWYsR0FFbkJBLEVBMUJKLFNBQWtCbkIsRUFBVW1CLEdBTTFCLE9BSkVBLEVBQUtuQixXQURIQSxFQUtHbUIsQ0FDVCxDQW1CV2dCLENBRFVDLEtBQUtDLFVBQVksR0FDUmxCLEdBQzFCLElBQUFtQixFQWZLLENBQUVkLEVBRkNZLEtBQUtHLE1BQXNCLEdBQWhCSCxLQUFLQyxVQUVkWixFQURGVyxLQUFLRyxNQUFzQixHQUFoQkgsS0FBS0MsV0FpQlRYLEVBQVVqQixFQUFXVSxFQUQzQm1CLEVBQURkLEVBQUljLEVBQURiLElBRUVTLEVBQVlmLEVBQzNCLENBWkFhLEVBQUtRLGFBQ0xQLEVBQVNRLFNBQVEsU0FBQ3RCLEdBQ2hCQSxFQUFLcEIsVUFBVyxFQUNoQm9CLEVBQUtuQixVQUFXLENBQ2xCLElBVUFpQyxFQUFTUSxTQUFRLFNBQUN0QixHQUNoQmUsRUFBWWYsRUFDZCxHQUNGLENDNUxPLElDc0ZIdUIsRUFDQUMsRUR2Rk9DLEdBQVcsRUFDWEMsRUFBUyxLQ01wQixTQUFTQyxFQUFlQyxHQUV0QixJQURBLElBQU1DLEVBQU1DLFNBQVNDLGVBQWVILEdBQzdCQyxFQUFJRyxZQUNUSCxFQUFJSSxZQUFZSixFQUFJRyxXQUV4QixDQVlBLFNBQVNFLEVBQW1CckIsR0FDMUJjLEVBQWUsbUJBQ2YsSUFBTVEsRUFBT0wsU0FBU0MsZUFBZSxtQkFDakN0QyxFQUFJLEVBQ1JvQixFQUFLdkIsVUFBVWdDLFNBQVEsU0FBQ2MsR0FDdEIsSUFBSTVDLEVBQUksRUFFUjRDLEVBQUlkLFNBQVEsU0FBQ2UsR0FDWCxJQUFNQyxFQUFjUixTQUFTUyxjQUFjLE9BQzNDRCxFQUFZRSxVQUFVQyxJQUFJLFlBQzFCSCxFQUFZSSxRQUFRQyxTQUFXTixFQUFLMUMsUUFDcEMyQyxFQUFZSSxRQUFRRSxRQUFVUCxFQUFLM0MsTUFDbkM0QyxFQUFZSSxRQUFRcEMsRUFBSWIsRUFDeEI2QyxFQUFZSSxRQUFRckMsRUFBSWIsRUFFSCxPQUFqQjZDLEVBQUsxQyxVQUNQMkMsRUFBWU8sTUFBTUMsZ0JBQWtCLFlBRW5CLElBQWZULEVBQUszQyxRQUNQNEMsRUFBWU8sTUFBTUMsZ0JBQWtCLFdBRWpCLE9BQWpCVCxFQUFLMUMsVUFBbUMsSUFBZjBDLEVBQUszQyxRQUNoQzRDLEVBQVlPLE1BQU1DLGdCQUFrQixXQUV0Q1gsRUFBS1ksWUFBWVQsR0FDakI5QyxHQUNGLElBQ0FDLEdBQ0YsR0FDRixDQUNBLFNBQVN1RCxFQUFxQm5DLEdBQzVCYyxFQUFlLHFCQUNmLElBQU1zQixFQUFRbkIsU0FBU0MsZUFBZSxxQkFDbEN0QyxFQUFJLEVBQ1JvQixFQUFLdkIsVUFBVWdDLFNBQVEsU0FBQ2MsR0FDdEIsSUFBSTVDLEVBQUksRUFFUjRDLEVBQUlkLFNBQVEsU0FBQ2UsR0FDWCxJQUFNQyxFQUFjUixTQUFTUyxjQUFjLE9BQzNDRCxFQUFZRSxVQUFVQyxJQUFJLFlBQzFCSCxFQUFZSSxRQUFRQyxTQUFXTixFQUFLMUMsUUFDcEMyQyxFQUFZSSxRQUFRRSxRQUFVUCxFQUFLM0MsTUFDbkM0QyxFQUFZSSxRQUFRcEMsRUFBSWIsRUFDeEI2QyxFQUFZSSxRQUFRckMsRUFBSWIsRUFDeEI4QyxFQUFZWSxpQkFBaUIsU0FBUyxTQUFDQyxHRGpFdEMsSUFBa0I5QyxFQUFHQyxFQUFIRCxFQ2tFUDhDLEVBQUVDLE9BQU9WLFFBQVFyQyxFRGxFUEMsRUNtRVY2QyxFQUFFQyxPQUFPVixRQUFRcEMsR0RsRWhCLElBQWJtQixJQUNGNEIsRUFBT0MsU0FBU2pELEVBQUdDLEdBQ25CaUQsRUFBU0QsYUFFTSxJQUFiN0IsSUFDRitCLEVBQWtCLGVBQWdCLFNBQ2xDMUIsU0FBU0MsZUFBZSxlQUFlMEIsWUFBYy9CLEVDOERuRCxLQUNtQixJQUFmVyxFQUFLM0MsUUFDUDRDLEVBQVlPLE1BQU1DLGdCQUFrQixXQUVqQixPQUFqQlQsRUFBSzFDLFVBQW1DLElBQWYwQyxFQUFLM0MsUUFDaEM0QyxFQUFZTyxNQUFNQyxnQkFBa0IsV0FFdENHLEVBQU1GLFlBQVlULEdBQ2xCOUMsR0FDRixJQUNBQyxHQUNGLEdBQ0YsQ0E0REEsU0FBU2lFLEVBQWEzRCxHQUNwQjRCLEVBQWUsZUFDZixJQUFNZ0MsRUFBYzdCLFNBQVNDLGVBQWUsZUFDNUNoQyxFQUFNdUIsU0FBUSxTQUFDdEIsR0FDYixJQUFNNEQsRUFBVTlCLFNBQVNTLGNBQWMsT0FDdkNxQixFQUFRcEIsVUFBVUMsSUFBSSxRQUV0Qm1CLEVBQVFsQixRQUFRbEIsUUFBVXhCLEVBQUtsQyxJQUMvQjhGLEVBQVFsQixRQUFROUQsU0FBV29CLEVBQUtwQixTQUNoQ2dGLEVBQVFsQixRQUFRakMsV0FBYVQsRUFBS25CLFVBRVosSUFBbEJtQixFQUFLcEIsVUFDUGdGLEVBQVFDLGFBQWEsYUFBYSxHQUNsQ0QsRUFBUXBCLFVBQVVDLElBQUksWUFFdEJtQixFQUFRQyxhQUFhLGFBQWEsR0FDbENELEVBQVFwQixVQUFVQyxJQUFJLGNBRXhCLElBQUssSUFBSWpELEVBQUksRUFBR0EsRUFBSVEsRUFBS3JCLE9BQVFhLElBQUssQ0FDcEMsSUFBTXNFLEVBQVdoQyxTQUFTUyxjQUFjLE9BQ3hDdUIsRUFBU3RCLFVBQVVDLElBQUksWUFDdkJxQixFQUFTcEIsUUFBUXFCLFVBQVl2RSxFQUM3Qm9FLEVBQVFiLFlBQVllLEVBQ3RCLENBQ0FILEVBQVlaLFlBQVlhLEVBQzFCLElBdERGLFNBQXdCN0QsR0FDSCtCLFNBQVNrQyxpQkFBaUIsY0FFbEMxQyxTQUFRLFNBQUMyQyxHQUNsQkEsRUFBVWYsaUJBQWlCLGFBQWEsU0FBQ2dCLEdBQ3ZDMUMsRUFBVTBDLEVBQU1kLE9BQU9WLFFBQVFsQixRQUMvQnlDLEVBQVV6QixVQUFVQyxJQUFJLFdBQzFCLElBQ0F3QixFQUFVZixpQkFBaUIsV0FBVyxXQUNwQ2UsRUFBVXpCLFVBQVUyQixPQUFPLFdBQzdCLElBQ0FGLEVBQVVmLGlCQUFpQixhQUFhLFNBQUNnQixHQUN2QzNDLEVBQWU2QyxPQUFPRixFQUFNZCxPQUFPVixRQUFRcUIsVUFDN0MsSUFJQUUsRUFBVWYsaUJBQWlCLFNBQVMsU0FBQ2dCLEdBQ25DRyxRQUFRQyxJQUFJSixFQUFNSyxlQUNsQixJQUFNL0MsRUFBVTBDLEVBQU1LLGNBQWM3QixRQUFRbEIsUUFDdEN4QixFQUFPRCxFQUFNeUIsR0FDbkI2QyxRQUFRQyxJQUFJdEUsR0FDWnFFLFFBQVFDLElBQUl0RSxFQUFLbkIsVUFDakJtQixFQUFLbkIsVUFBWW1CLEVBQUtuQixTQUN0QjZFLEVBQWEzRCxFQUNmLEdBQ0YsR0FDRixDQTRCRXlFLENBQWV6RSxFQUNqQixDQW9DQSxTQUFTeUQsRUFBa0JpQixFQUFXQyxHQUNwQjVDLFNBQVNDLGVBQWUwQyxHQUNoQzVCLE1BQU04QixRQUFVRCxDQUMxQixDQUVBLFNBQVNFLElBQ1k5QyxTQUFTQyxlQUFlLGNBQ2hDMEIsWUFBY0osRUFBTzNFLElBQ2xDLEMsNnVCQ2hOTyxJQUFNMkUsRUNFYixXQUF3QixJQUFBd0IsRUFDbEJuRyxFQUFPLFNBQ0xZLEVBQVlELElBQ1pVLEVBQVFILElBQ1ZrRixHQUFpQixFQUVyQixTQUFTekQsSUFDUCxJQUFLLElBQUk3QixFQUFJLEVBQUdBLEVBQUlGLEVBQVVYLE9BQVFhLElBQ3BDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJSCxFQUFVRSxHQUFHYixPQUFRYyxJQUN2Q0gsRUFBVUUsR0FBR0MsR0FBR0UsUUFBVSxLQUMxQkwsRUFBVUUsR0FBR0MsR0FBR0MsT0FBUSxDQUc5QixDQW1DQSxTQUFTNEQsRUFBU2pELEVBQUdDLEdBQ25CaUQsRUFBU3dCLGNBQWMxRSxFQUFHQyxHQUN0QkosRUFBZ0JxRCxFQUFTeEQsU0FDM0IyQixFQUFTLEdBQUhzRCxPQUFNdEcsR0FDWitDLEdBQVcsR0FFYnVCLEVBQXFCTyxFQUN2QixDQVNBLE9BUVkwQixFQVJaSixFQUFBLENBQ0VuRyxLQUFBQSxFQUNBWSxVQUFBQSxFQUNBUyxNQUFBQSxFQUNBdUQsU0FBQUEsRUFDQXdCLGVBQUFBLEVBQ0FJLFdBOUNGLFdBQ0V0RSxFQUFpQjNCLEtBQ25CLEVBNkNFa0csdUJBaENGLFdBQ0UsSUFBTUMsRUpSVixTQUEyQnJGLEdBQ3pCLE9BQU9BLEVBQU1JLE9BQU0sU0FBQ0gsR0FBSSxPQUFLQSxFQUFLcEIsUUFBUSxHQUM1QyxDSU1tQnlHLENBQWtCdEYsR0FDakMsSUFBZSxJQUFYcUYsRUFHRixNQUFNLElBQUlFLE1BQU0sdUNBRmhCUixHQUFpQixDQUlyQixFQTBCRXpELFdBQUFBLEdBQVUsV0FDVmlDLEdBQVEyQixFQUFBSixFQUFBLGlCQTdDVixTQUF1QnhFLEVBQUdDLEdBQ3hCLElBQThCLElBQTFCaEIsRUFBVWdCLEdBQUdELEdBQUdYLE1BQ2xCLE1BQU0sSUFBSTRGLE1BQU0scUNBR2xCLEdBREFoRyxFQUFVZ0IsR0FBR0QsR0FBR1gsT0FBUSxFQUNRLE9BQTVCSixFQUFVZ0IsR0FBR0QsR0FBR1YsUUFBa0IsQ0FDcEMsSUFBTTZCLEVBQVVsQyxFQUFVZ0IsR0FBR0QsR0FBR1YsUUFDaENJLEVBQU15QixHQUFTeEMsS0FDakIsQ0FDRixJQXFDZWlHLEVBQUFKLEVBQUEsa0JBakJmLFdBQ0VuRyxFQUFPLFNBQ1AyQyxJQUNBeUQsR0FBaUIsRUE1Q2pCL0UsRUFBTXVCLFNBQVEsU0FBQ3RCLEdBQ2JBLEVBQUtwQixVQUFXLEVBQ2hCb0IsRUFBS25CLFVBQVcsRUFDaEJtQixFQUFLbEIsS0FBTyxFQUNaa0IsRUFBS2pCLE1BQU8sQ0FDZCxHQXlDRixJQWFnQjhGLENBRWxCLENEL0VzQlUsR0FDVGhDLEVDZ0ZiLFdBQTBCLElBQUFpQyxFQUVsQjlHLEVBQU8sV0FDUCtHLEVBQVksSUFBSUMsSUFDaEJwRyxFQUFZRCxJQUNaVSxFQUFRSCxJQUNWa0YsR0FBaUIsRUFFckIsU0FBU2EsSUFDUCxJQUFNdEYsRUFBSVksS0FBS0csTUFBc0IsR0FBaEJILEtBQUtDLFVBQ3BCWixFQUFJVyxLQUFLRyxNQUFzQixHQUFoQkgsS0FBS0MsVUFDMUIsT0FBSXVFLEVBQVVHLElBQUksR0FBRFosT0FBSTNFLEVBQUMsS0FBQTJFLE9BQUkxRSxJQUNqQnFGLEtBRVRGLEVBQVVoRCxJQUFJLEdBQUR1QyxPQUFJM0UsRUFBQyxLQUFBMkUsT0FBSTFFLElBQ2YsQ0FBQ0QsRUFBR0MsR0FDYixDQUVBLFNBQVNlLElBQ1AsSUFBSyxJQUFJN0IsRUFBSSxFQUFHQSxFQUFJRixFQUFVWCxPQUFRYSxJQUNwQyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUgsRUFBVUUsR0FBR2IsT0FBUWMsSUFDdkNILEVBQVVFLEdBQUdDLEdBQUdFLFFBQVUsS0FDMUJMLEVBQVVFLEdBQUdDLEdBQUdDLE9BQVEsQ0FHOUIsQ0FzQkEsU0FBUzRELElBQ1AsSSxJQUFxQ3VDLEcsRUFBdEJGLEksRUFBc0IsRSxrNUJBQTlCdEYsRUFBQ3dGLEVBQUEsR0FBRXZGLEVBQUN1RixFQUFBLEdBQ1h4QyxFQUFPMEIsY0FBYzFFLEVBQUdDLEdBQ3BCSixFQUFnQm1ELEVBQU90RCxTQUN6QjJCLEVBQVMsR0FBSHNELE9BQU10RyxHQUNaK0MsR0FBVyxHQUViUyxFQUFtQm1CLEVBQ3JCLENBV0EsT0FBQW1DLEVBQUEsQ0FDRTlHLEtBQUFBLEVBQ0FZLFVBQUFBLEVBQ0FTLE1BQUFBLEVBQ0F1RCxTQUFBQSxFQUNBd0MsWUF0RWlCLEVBdUVqQlosV0FmRixXQUNFdEUsRUFBaUIzQixLQUNuQixFQWNFNkYsZUFBQUEsRUFDQXpELFdBQUFBLEVBQ0EwRCxjQXZDRixTQUF1QjFFLEVBQUdDLEdBQ3hCLElBQThCLElBQTFCaEIsRUFBVWdCLEdBQUdELEdBQUdYLE1BQ2xCLE1BQU0sSUFBSTRGLE1BQU0scUNBR2xCLEdBREFoRyxFQUFVZ0IsR0FBR0QsR0FBR1gsT0FBUSxFQUNRLE9BQTVCSixFQUFVZ0IsR0FBR0QsR0FBR1YsUUFBa0IsQ0FDcEMsSUFBTTZCLEVBQVVsQyxFQUFVZ0IsR0FBR0QsR0FBR1YsUUFDaENJLEVBQU15QixHQUFTeEMsS0FDakIsQ0FDRixHQThCZWlHLEVBQUFPLEVBQUEsV0FDYmxDLEdBQVEyQixFQUFBTyxFQUFBLGtCQWZWLFdBQ0VuRSxJQUNBeUQsR0FBaUIsRUFuQ2pCL0UsRUFBTXVCLFNBQVEsU0FBQ3RCLEdBQ2JBLEVBQUtwQixVQUFXLEVBQ2hCb0IsRUFBS25CLFVBQVcsRUFDaEJtQixFQUFLbEIsS0FBTyxFQUNaa0IsRUFBS2pCLE1BQU8sQ0FDZCxHQWdDRixJQVlnQnlHLENBRWxCLENEL0p3Qk8sR0FFakIsU0FBU0MsSURtS2hCLElBQ1FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBOUpxQnZGLEVDUjNCK0QsSUFDQXBCLEVBQWtCLFFBQVMsUUFDM0JBLEVBQWtCLGlCQUFrQixRQUNwQ0UsRUFBYUwsRUFBT3RELE9ETXBCbUMsRUFEMkJyQixFQ0pQd0MsR0QwRXRCLFNBQW9DeEMsR0FDbEMsSUFBTXZCLEVBQVl3QyxTQUFTQyxlQUFlLG1CQUUxQ3pDLEVBQVU0RCxpQkFBaUIsWUFBWSxTQUFDZ0IsR0FDdENBLEVBQU1tQyxnQkFDUixJQUVBL0csRUFBVTRELGlCQUFpQixhQUFhLFNBQUNnQixHQUN2Q0EsRUFBTW1DLGdCQUNSLElBRUEvRyxFQUFVNEQsaUJBQWlCLFFBQVEsU0FBQ2dCLEdBQ2xDQSxFQUFNbUMsaUJBQ04sSUFBTWhFLEVBQU82QixFQUFNZCxPQUNiM0MsRUFBYUksRUFBS2QsTUFBTXlCLEdBQVMzQyxTQUN2Q3dGLFFBQVFDLElBQUk3RCxHQUNaNEQsUUFBUUMsSUFBSS9DLEdBQ1osSUFBTWxCLEVBQUkrRCxPQUFPL0IsRUFBS0ssUUFBUXJDLEdBQUtJLEVBQWEsRUFBSWMsSUFDOUNqQixFQUFJOEQsT0FBTy9CLEVBQUtLLFFBQVFwQyxHQUFLRyxFQUFhYyxFQUFlLElBQy9EOEMsUUFBUUMsSUFBSWpFLEVBQUdDLEdBQ2ZDLEVBQVVNLEVBQUt2QixVQUFXdUIsRUFBS2QsTUFBTXlCLEdBQVVuQixFQUFHQyxHQUNsRDRCLEVBQW1CckIsR0FDbkI2QyxFQUFhN0MsRUFBS2QsTUFDcEIsR0FDRixDQTVGRXVHLENBQTJCekYsR0F5SnJCb0YsRUFBV25FLFNBQVNDLGVBQWUsY0FDbkNtRSxFQUFXcEUsU0FBU0MsZUFBZSxhQUNuQ29FLEVBQVlyRSxTQUFTQyxlQUFlLGVBQ3BDcUUsRUFBWXRFLFNBQVNDLGVBQWUsYUFFMUNrRSxFQUFTL0MsaUJBQWlCLFNBQVMsV0ZXckMsSUFBb0JyQyxLRVZMd0MsR0ZXUi9ELFVBQVlELElBQ2pCd0IsRUFBS2lFLGdCQUFpQixFQUN0QmpFLEVBQUtkLE1BQU11QixTQUFRLFNBQUN0QixHQUNsQkEsRUFBS3BCLFVBQVcsRUFDaEJvQixFQUFLbkIsVUFBVyxDQUNsQixJQUNBcUQsRUFBbUJyQixJQUNLLElBQXBCQSxFQUFLaUYsWUFHVHBDLEVBQWE3QyxFQUFLZCxNRXBCbEIsSUFFQW9HLEVBQVVqRCxpQkFBaUIsU0FBUyxXQUNsQ3RDLEVBQWlCeUMsR0FDakJuQixFQUFtQm1CLEdBQ25CSyxFQUFhTCxFQUFPdEQsTUFDdEIsSUFFQW1HLEVBQVNoRCxpQkFBaUIsU0FBUyxXQUNqQyxJQUFNcUQsRUFBYXpFLFNBQVNDLGVBQWUsYUFDbEIsS0FBckJ3RSxFQUFXQyxRQUdmbkQsRUFBTzNFLEtBQU82SCxFQUFXQyxNQUN6QkQsRUFBV0MsTUFBUSxHQUNuQkMsSUFDRixJQUVBTCxFQUFVbEQsaUJBQWlCLFNBQVMsV0FDbENHLEVBQU9xRCxpQkFDUG5ELEVBQVNtRCxpQkFDVGxELEVBQWtCLGVBQWdCLFFBQ2xDd0MsR0FDRixHQzNMRixDQUVPLFNBQVNTLElBQ2RwRCxFQUFPOEIseUJBQ1BQLElBQ0FwQixFQUFrQixRQUFTLFFBQzNCUixFQUFxQk8sR0FDckJBLEVBQVMyQixhQUNUMUIsRUFBa0IsaUJBQWtCLE9BQ3RDLENBSUF3QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVMb29wLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZG9tLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJmdW5jdGlvbiBjcmVhdGVTaGlwKGtleSwgbmFtZSwgbGVuZ3RoKSB7XG4gIHJldHVybiB7XG4gICAgaXNQbGFjZWQ6IGZhbHNlLFxuICAgIGtleSxcbiAgICBuYW1lLFxuICAgIGxlbmd0aCxcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgaGl0czogMCxcbiAgICBzdW5rOiBmYWxzZSxcbiAgICBoaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaGl0cysrO1xuICAgICAgdGhpcy5zaW5rQ2hlY2soKTtcbiAgICB9LFxuICAgIHNpbmtDaGVjazogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaGl0cyA+PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnN1bmsgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdW5rID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlU2hpcCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlU2hpcCB9IGZyb20gJy4vc2hpcHMuanMnO1xuaW1wb3J0IHsgZGlzcGxheVNoaXBzLCBwb3B1bGF0ZVBsYXllckdyaWQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmNvbnN0IFJPV1MgPSAxMDtcbmNvbnN0IENPTFVNTlMgPSAxMDtcblxuZnVuY3Rpb24gbmV3R2FtZWJvYXJkKCkge1xuICBjb25zdCBnYW1lYm9hcmQgPSBuZXcgQXJyYXkoUk9XUyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZWJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgZ2FtZWJvYXJkW2ldID0gbmV3IEFycmF5KENPTFVNTlMpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZWJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICBnYW1lYm9hcmRbaV1bal0gPSB7XG4gICAgICAgIGlzSGl0OiBmYWxzZSxcbiAgICAgICAgaGFzU2hpcDogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBnYW1lYm9hcmQ7XG59XG5cbmZ1bmN0aW9uIG1ha2VTaGlwcygpIHtcbiAgbGV0IG5hbWVzID0gW1xuICAgICdBaXJjcmFmdCBDYXJyaWVyJyxcbiAgICAnQmF0dGxlc2hpcCcsXG4gICAgJ0NydWlzZXInLFxuICAgICdEZXN0cm95ZXInLFxuICAgICdEZXN0cm95ZXInLFxuICAgICdTdWJtYXJpbmUnLFxuICAgICdTdWJtYXJpbmUnLFxuICBdO1xuICBsZXQgc2l6ZSA9IFs1LCA0LCAzLCAyLCAyLCAxLCAxXTtcbiAgbGV0IGtleSA9IFswLCAxLCAyLCAzLCA0LCA1LCA2XTtcbiAgbGV0IHNoaXBzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgbGV0IHNoaXAgPSBjcmVhdGVTaGlwKGtleVtpXSwgbmFtZXNbaV0sIHNpemVbaV0pO1xuICAgIHNoaXBzLnB1c2goc2hpcCk7XG4gIH1cbiAgcmV0dXJuIHNoaXBzO1xufVxuXG5mdW5jdGlvbiBhcmVBbGxTaGlwc1N1bmsoc2hpcHMpIHtcbiAgcmV0dXJuIHNoaXBzLmV2ZXJ5KChzaGlwKSA9PiBzaGlwLnN1bmspO1xufVxuXG5mdW5jdGlvbiBhcmVBbGxTaGlwc1BsYWNlZChzaGlwcykge1xuICByZXR1cm4gc2hpcHMuZXZlcnkoKHNoaXApID0+IHNoaXAuaXNQbGFjZWQpO1xufVxuXG5mdW5jdGlvbiBoYXNBZGphY2VudFNoaXAoeCwgeSwgZ2FtZWJvYXJkKSB7XG4gIC8vIENoZWNrIHRoZSBzcXVhcmUgYWJvdmVcbiAgaWYgKHkgPiAwICYmIGdhbWVib2FyZFt5IC0gMV1beF0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHNxdWFyZSBiZWxvd1xuICBpZiAoeSA8IFJPV1MgLSAxICYmIGdhbWVib2FyZFt5ICsgMV1beF0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHNxdWFyZSB0byB0aGUgbGVmdFxuICBpZiAoeCA+IDAgJiYgZ2FtZWJvYXJkW3ldW3ggLSAxXS5oYXNTaGlwICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBDaGVjayB0aGUgc3F1YXJlIHRvIHRoZSByaWdodFxuICBpZiAoeCA8IENPTFVNTlMgLSAxICYmIGdhbWVib2FyZFt5XVt4ICsgMV0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHRvcC1sZWZ0IGNvcm5lclxuICBpZiAoeSA+IDAgJiYgeCA+IDAgJiYgZ2FtZWJvYXJkW3kgLSAxXVt4IC0gMV0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHRvcC1yaWdodCBjb3JuZXJcbiAgaWYgKHkgPiAwICYmIHggPCBDT0xVTU5TIC0gMSAmJiBnYW1lYm9hcmRbeSAtIDFdW3ggKyAxXS5oYXNTaGlwICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBDaGVjayB0aGUgYm90dG9tLWxlZnQgY29ybmVyXG4gIGlmICh5IDwgUk9XUyAtIDEgJiYgeCA+IDAgJiYgZ2FtZWJvYXJkW3kgKyAxXVt4IC0gMV0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXJcbiAgaWYgKFxuICAgIHkgPCBST1dTIC0gMSAmJlxuICAgIHggPCBDT0xVTU5TIC0gMSAmJlxuICAgIGdhbWVib2FyZFt5ICsgMV1beCArIDFdLmhhc1NoaXAgIT09IG51bGxcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRQb3NpdGlvbihzaGlwLCB4LCB5LCBpc1ZlcnRpY2FsLCBnYW1lYm9hcmQpIHtcbiAgY29uc3QgbGVuZ3RoID0gc2hpcC5sZW5ndGg7XG5cbiAgaWYgKGlzVmVydGljYWwpIHtcbiAgICBpZiAoeSArIGxlbmd0aCA+IFJPV1MpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBjaGVjayB0aGUgc3F1YXJlIGFib3ZlLCBiZWxvdywgYW5kIGFyb3VuZCB0aGUgc2hpcFxuICAgICAgaWYgKGhhc0FkamFjZW50U2hpcCh4LCB5ICsgaSwgZ2FtZWJvYXJkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh4ICsgbGVuZ3RoID4gQ09MVU1OUykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGNoZWNrIHRoZSBzcXVhcmUgdG8gdGhlIGxlZnQsIHJpZ2h0LCBhbmQgYXJvdW5kIHRoZSBzaGlwXG4gICAgICBpZiAoaGFzQWRqYWNlbnRTaGlwKHggKyBpLCB5LCBnYW1lYm9hcmQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGxhY2VTaGlwKGdhbWVib2FyZCwgY3VycmVudFNoaXAsIHgsIHkpIHtcbiAgY29uc3Qga2V5ID0gY3VycmVudFNoaXAua2V5O1xuICBjb25zdCBsZW5ndGggPSBjdXJyZW50U2hpcC5sZW5ndGg7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBjdXJyZW50U2hpcC52ZXJ0aWNhbDtcblxuICBjb25zdCBwb3NpdGlvbkNoZWNrID0gaXNWYWxpZFBvc2l0aW9uKFxuICAgIGN1cnJlbnRTaGlwLFxuICAgIHgsXG4gICAgeSxcbiAgICBpc1ZlcnRpY2FsLFxuICAgIGdhbWVib2FyZFxuICApO1xuXG4gIGlmIChwb3NpdGlvbkNoZWNrKSB7XG4gICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ2FtZWJvYXJkW3kgKyBpXVt4XS5oYXNTaGlwID0ga2V5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdhbWVib2FyZFt5XVt4ICsgaV0uaGFzU2hpcCA9IGtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgY3VycmVudFNoaXAuaXNQbGFjZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0dXJuU2hpcCh2ZXJ0aWNhbCwgc2hpcCkge1xuICBpZiAodmVydGljYWwpIHtcbiAgICBzaGlwLnZlcnRpY2FsID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzaGlwLnZlcnRpY2FsID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHNoaXA7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbUNvb3JkcygpIHtcbiAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xufVxuXG5mdW5jdGlvbiBwbGFjZVNoaXBzUmFuZG9tKHVzZXIpIHtcbiAgY29uc3Qgc2hpcExpc3QgPSB1c2VyLnNoaXBzO1xuICBjb25zdCBnYW1lYm9hcmQgPSB1c2VyLmdhbWVib2FyZDtcbiAgdXNlci5jbGVhckJvYXJkKCk7XG4gIHNoaXBMaXN0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICBzaGlwLmlzUGxhY2VkID0gZmFsc2U7XG4gICAgc2hpcC52ZXJ0aWNhbCA9IGZhbHNlO1xuICB9KTtcblxuICBmdW5jdGlvbiBwbGFjZVJhbmRvbShzaGlwKSB7XG4gICAgY29uc3QgdmVydGljYWwgPSBNYXRoLnJhbmRvbSgpID49IDAuNTtcbiAgICBzaGlwID0gdHVyblNoaXAodmVydGljYWwsIHNoaXApO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gcmFuZG9tQ29vcmRzKCk7XG4gICAgY29uc3QgcGxhY2VkID0gcGxhY2VTaGlwKGdhbWVib2FyZCwgc2hpcCwgeCwgeSk7XG4gICAgaWYgKCFwbGFjZWQpIHBsYWNlUmFuZG9tKHNoaXApO1xuICB9XG5cbiAgc2hpcExpc3QuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgIHBsYWNlUmFuZG9tKHNoaXApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzZXRCb2FyZCh1c2VyKSB7XG4gIHVzZXIuZ2FtZWJvYXJkID0gbmV3R2FtZWJvYXJkKCk7XG4gIHVzZXIuYWxsU2hpcHNQbGFjZWQgPSBmYWxzZTtcbiAgdXNlci5zaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgc2hpcC5pc1BsYWNlZCA9IGZhbHNlO1xuICAgIHNoaXAudmVydGljYWwgPSBmYWxzZTtcbiAgfSk7XG4gIHBvcHVsYXRlUGxheWVyR3JpZCh1c2VyKTtcbiAgaWYgKHVzZXIuaXNDb21wdXRlciA9PT0gdHJ1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBkaXNwbGF5U2hpcHModXNlci5zaGlwcyk7XG59XG5cbmV4cG9ydCB7XG4gIG1ha2VTaGlwcyxcbiAgcGxhY2VTaGlwLFxuICBuZXdHYW1lYm9hcmQsXG4gIGFyZUFsbFNoaXBzU3VuayxcbiAgcGxhY2VTaGlwc1JhbmRvbSxcbiAgYXJlQWxsU2hpcHNQbGFjZWQsXG4gIHJlc2V0Qm9hcmQsXG4gIHR1cm5TaGlwLFxufTtcbiIsImltcG9ydCB7IHNldEVsZW1lbnREaXNwbGF5IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgb3Bwb25lbnQsIHBsYXllciB9IGZyb20gJy4vaW5kZXguanMnO1xuXG5leHBvcnQgbGV0IGdhbWVPdmVyID0gZmFsc2U7XG5leHBvcnQgbGV0IHdpbm5lciA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1lTG9vcCh4LCB5KSB7XG4gIGlmIChnYW1lT3ZlciA9PT0gZmFsc2UpIHtcbiAgICBwbGF5ZXIudGFrZVR1cm4oeCwgeSk7XG4gICAgb3Bwb25lbnQudGFrZVR1cm4oKTtcbiAgfVxuICBpZiAoZ2FtZU92ZXIgPT09IHRydWUpIHtcbiAgICBzZXRFbGVtZW50RGlzcGxheSgnd2lubmVyLXBvcHVwJywgJ2Jsb2NrJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5pbmdOYW1lJykudGV4dENvbnRlbnQgPSB3aW5uZXI7XG4gIH1cbn1cbiIsImltcG9ydCB7IG9wcG9uZW50LCBzdGFydEdhbWUsIGFwcExvYWQgfSBmcm9tICcuL2luZGV4LmpzJztcbmltcG9ydCB7XG4gIHBsYWNlU2hpcCxcbiAgcGxhY2VTaGlwc1JhbmRvbSxcbiAgcmVzZXRCb2FyZCxcbiAgdHVyblNoaXAsXG59IGZyb20gJy4vZ2FtZWJvYXJkLmpzJztcbmltcG9ydCB7IHBsYXllciB9IGZyb20gJy4vaW5kZXguanMnO1xuaW1wb3J0IHsgZ2FtZUxvb3AgfSBmcm9tICcuL2dhbWVMb29wLmpzJztcblxuZnVuY3Rpb24gY2xlYXJDb250YWluZXIoY29udGFpbmVySUQpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xuICB3aGlsZSAoZGl2LmZpcnN0Q2hpbGQpIHtcbiAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlR3JpZHMocGxheWVyMSwgcGxheWVyMikge1xuICBpbml0YWxpemVQbGF5ZXJHcmlkKHBsYXllcjEpO1xuICBwb3B1bGF0ZU9wcG9uZW50R3JpZChwbGF5ZXIyKTtcbn1cblxuZnVuY3Rpb24gaW5pdGFsaXplUGxheWVyR3JpZCh1c2VyKSB7XG4gIHBvcHVsYXRlUGxheWVyR3JpZCh1c2VyKTtcbiAgYWRkR2FtZWJvYXJkRXZlbnRMaXN0ZW5lcnModXNlcik7XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlUGxheWVyR3JpZCh1c2VyKSB7XG4gIGNsZWFyQ29udGFpbmVyKCdwbGF5ZXJHYW1lYm9hcmQnKTtcbiAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXJHYW1lYm9hcmQnKTtcbiAgbGV0IGogPSAwO1xuICB1c2VyLmdhbWVib2FyZC5mb3JFYWNoKChyb3cpID0+IHtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICByb3cuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgY2VsbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dyaWRQYXJ0Jyk7XG4gICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LmNvbnRhaW5zID0gY2VsbC5oYXNTaGlwO1xuICAgICAgY2VsbEVsZW1lbnQuZGF0YXNldC5jZWxsSGl0ID0gY2VsbC5pc0hpdDtcbiAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQueSA9IGo7XG4gICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LnggPSBpO1xuXG4gICAgICBpZiAoY2VsbC5oYXNTaGlwICE9PSBudWxsKSB7XG4gICAgICAgIGNlbGxFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjQjBCRUM1JztcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmlzSGl0ID09PSB0cnVlKSB7XG4gICAgICAgIGNlbGxFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkZEOTdEJztcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmhhc1NoaXAgIT09IG51bGwgJiYgY2VsbC5pc0hpdCA9PT0gdHJ1ZSkge1xuICAgICAgICBjZWxsRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0VFNjA1NSc7XG4gICAgICB9XG4gICAgICBncmlkLmFwcGVuZENoaWxkKGNlbGxFbGVtZW50KTtcbiAgICAgIGkrKztcbiAgICB9KTtcbiAgICBqKys7XG4gIH0pO1xufVxuZnVuY3Rpb24gcG9wdWxhdGVPcHBvbmVudEdyaWQodXNlcikge1xuICBjbGVhckNvbnRhaW5lcignb3Bwb25lbnRHYW1lYm9hcmQnKTtcbiAgY29uc3QgZ3JpZDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3Bwb25lbnRHYW1lYm9hcmQnKTtcbiAgbGV0IGogPSAwO1xuICB1c2VyLmdhbWVib2FyZC5mb3JFYWNoKChyb3cpID0+IHtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICByb3cuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgY2VsbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dyaWRQYXJ0Jyk7XG4gICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LmNvbnRhaW5zID0gY2VsbC5oYXNTaGlwO1xuICAgICAgY2VsbEVsZW1lbnQuZGF0YXNldC5jZWxsSGl0ID0gY2VsbC5pc0hpdDtcbiAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQueSA9IGo7XG4gICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LnggPSBpO1xuICAgICAgY2VsbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gZS50YXJnZXQuZGF0YXNldC54O1xuICAgICAgICBjb25zdCB5ID0gZS50YXJnZXQuZGF0YXNldC55O1xuICAgICAgICBnYW1lTG9vcCh4LCB5KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNlbGwuaXNIaXQgPT09IHRydWUpIHtcbiAgICAgICAgY2VsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRkQ5N0QnO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGwuaGFzU2hpcCAhPT0gbnVsbCAmJiBjZWxsLmlzSGl0ID09PSB0cnVlKSB7XG4gICAgICAgIGNlbGxFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRUU2MDU1JztcbiAgICAgIH1cbiAgICAgIGdyaWQyLmFwcGVuZENoaWxkKGNlbGxFbGVtZW50KTtcbiAgICAgIGkrKztcbiAgICB9KTtcbiAgICBqKys7XG4gIH0pO1xufVxuXG5sZXQgc2VsZWN0ZWRQYXJ0O1xubGV0IHNoaXBLZXk7XG5cbmZ1bmN0aW9uIGFkZEdhbWVib2FyZEV2ZW50TGlzdGVuZXJzKHVzZXIpIHtcbiAgY29uc3QgZ2FtZWJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllckdhbWVib2FyZCcpO1xuXG4gIGdhbWVib2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xuXG4gIGdhbWVib2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcblxuICBnYW1lYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgY2VsbCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdXNlci5zaGlwc1tzaGlwS2V5XS52ZXJ0aWNhbDtcbiAgICBjb25zb2xlLmxvZyhpc1ZlcnRpY2FsKTtcbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFBhcnQpO1xuICAgIGNvbnN0IHggPSBOdW1iZXIoY2VsbC5kYXRhc2V0LnggLSAoaXNWZXJ0aWNhbCA/IDAgOiBzZWxlY3RlZFBhcnQpKTtcbiAgICBjb25zdCB5ID0gTnVtYmVyKGNlbGwuZGF0YXNldC55IC0gKGlzVmVydGljYWwgPyBzZWxlY3RlZFBhcnQgOiAwKSk7XG4gICAgY29uc29sZS5sb2coeCwgeSk7XG4gICAgcGxhY2VTaGlwKHVzZXIuZ2FtZWJvYXJkLCB1c2VyLnNoaXBzW3NoaXBLZXldLCB4LCB5KTtcbiAgICBwb3B1bGF0ZVBsYXllckdyaWQodXNlcik7XG4gICAgZGlzcGxheVNoaXBzKHVzZXIuc2hpcHMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRHJhZ2FiaWxpdHkoc2hpcHMpIHtcbiAgY29uc3QgZHJhZ2dhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcmFnZ2FibGUnKTtcblxuICBkcmFnZ2FibGVzLmZvckVhY2goKGRyYWdnYWJsZSkgPT4ge1xuICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHNoaXBLZXkgPSBldmVudC50YXJnZXQuZGF0YXNldC5zaGlwS2V5O1xuICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nJyk7XG4gICAgfSk7XG4gICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgICBkcmFnZ2FibGUuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTtcbiAgICB9KTtcbiAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBzZWxlY3RlZFBhcnQgPSBOdW1iZXIoZXZlbnQudGFyZ2V0LmRhdGFzZXQucGFydEluZGV4KTtcbiAgICB9KTtcblxuICAgIC8vIG5lZWQgdG8gcGFzcyBzaGlwcyB0aHJvdWdoIHByb3Blcmx5IHRvIHRoZSBldmVudCBsaXN0ZW5lcj9cbiAgICAvL3RhcmdldCBwYXJlbnQgb2YgY2xpY2tlZFxuICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICBjb25zdCBzaGlwS2V5ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNoaXBLZXk7XG4gICAgICBjb25zdCBzaGlwID0gc2hpcHNbc2hpcEtleV07XG4gICAgICBjb25zb2xlLmxvZyhzaGlwKTtcbiAgICAgIGNvbnNvbGUubG9nKHNoaXAudmVydGljYWwpO1xuICAgICAgc2hpcC52ZXJ0aWNhbCA9ICFzaGlwLnZlcnRpY2FsO1xuICAgICAgZGlzcGxheVNoaXBzKHNoaXBzKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlTaGlwcyhzaGlwcykge1xuICBjbGVhckNvbnRhaW5lcigncGxheWVyU2hpcHMnKTtcbiAgY29uc3QgcGxheWVyU2hpcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyU2hpcHMnKTtcbiAgc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgIGNvbnN0IG5ld1NoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuZXdTaGlwLmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcblxuICAgIG5ld1NoaXAuZGF0YXNldC5zaGlwS2V5ID0gc2hpcC5rZXk7XG4gICAgbmV3U2hpcC5kYXRhc2V0LmlzUGxhY2VkID0gc2hpcC5pc1BsYWNlZDtcbiAgICBuZXdTaGlwLmRhdGFzZXQuaXNWZXJ0aWNhbCA9IHNoaXAudmVydGljYWw7XG5cbiAgICBpZiAoc2hpcC5pc1BsYWNlZCA9PT0gdHJ1ZSkge1xuICAgICAgbmV3U2hpcC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIGZhbHNlKTtcbiAgICAgIG5ld1NoaXAuY2xhc3NMaXN0LmFkZCgncGxhY2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1NoaXAuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcbiAgICAgIG5ld1NoaXAuY2xhc3NMaXN0LmFkZCgnZHJhZ2dhYmxlJyk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2hpcFBhcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNoaXBQYXJ0LmNsYXNzTGlzdC5hZGQoJ3NoaXBQYXJ0Jyk7XG4gICAgICBzaGlwUGFydC5kYXRhc2V0LnBhcnRJbmRleCA9IGk7XG4gICAgICBuZXdTaGlwLmFwcGVuZENoaWxkKHNoaXBQYXJ0KTtcbiAgICB9XG4gICAgcGxheWVyU2hpcHMuYXBwZW5kQ2hpbGQobmV3U2hpcCk7XG4gIH0pO1xuICBhZGREcmFnYWJpbGl0eShzaGlwcyk7XG59XG5cbmZ1bmN0aW9uIGFkZEJ1dHRvbkV2ZW50TGlzdGVuZXJzKCkge1xuICBjb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhckJvYXJkJyk7XG4gIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0R2FtZScpO1xuICBjb25zdCByYW5kb21CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZG9tQm9hcmQnKTtcbiAgY29uc3QgcmVwbGF5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXlBZ2FpbicpO1xuXG4gIGNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJlc2V0Qm9hcmQocGxheWVyKTtcbiAgfSk7XG5cbiAgcmFuZG9tQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBsYWNlU2hpcHNSYW5kb20ocGxheWVyKTtcbiAgICBwb3B1bGF0ZVBsYXllckdyaWQocGxheWVyKTtcbiAgICBkaXNwbGF5U2hpcHMocGxheWVyLnNoaXBzKTtcbiAgfSk7XG5cbiAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgcGxheWVyTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lSW5wdXQnKTtcbiAgICBpZiAocGxheWVyTmFtZS52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGxheWVyLm5hbWUgPSBwbGF5ZXJOYW1lLnZhbHVlO1xuICAgIHBsYXllck5hbWUudmFsdWUgPSAnJztcbiAgICBzdGFydEdhbWUoKTtcbiAgfSk7XG5cbiAgcmVwbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBsYXllci5yZXNldFZhcmlhYmxlcygpO1xuICAgIG9wcG9uZW50LnJlc2V0VmFyaWFibGVzKCk7XG4gICAgc2V0RWxlbWVudERpc3BsYXkoJ3dpbm5lci1wb3B1cCcsICdub25lJyk7XG4gICAgYXBwTG9hZCgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0RWxlbWVudERpc3BsYXkoZWxlbWVudElkLCBkaXNwbGF5VmFsdWUpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXlWYWx1ZTtcbn1cblxuZnVuY3Rpb24gc2V0UGxheWVyVGl0bGVOYW1lKCkge1xuICBjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllck5hbWUnKTtcbiAgcGxheWVyTmFtZS50ZXh0Q29udGVudCA9IHBsYXllci5uYW1lO1xufVxuXG5leHBvcnQge1xuICBwb3B1bGF0ZUdyaWRzLFxuICBkaXNwbGF5U2hpcHMsXG4gIGFkZERyYWdhYmlsaXR5LFxuICBhZGRCdXR0b25FdmVudExpc3RlbmVycyxcbiAgcG9wdWxhdGVQbGF5ZXJHcmlkLFxuICBwb3B1bGF0ZU9wcG9uZW50R3JpZCxcbiAgaW5pdGFsaXplUGxheWVyR3JpZCxcbiAgc2V0RWxlbWVudERpc3BsYXksXG4gIHNldFBsYXllclRpdGxlTmFtZSxcbn07XG4iLCJpbXBvcnQge1xuICBhZGRCdXR0b25FdmVudExpc3RlbmVycyxcbiAgZGlzcGxheVNoaXBzLFxuICBpbml0YWxpemVQbGF5ZXJHcmlkLFxuICBwb3B1bGF0ZU9wcG9uZW50R3JpZCxcbiAgc2V0RWxlbWVudERpc3BsYXksXG4gIHNldFBsYXllclRpdGxlTmFtZSxcbn0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgY3JlYXRlUGxheWVyLCBjcmVhdGVDb21wdXRlciB9IGZyb20gJy4vcGxheWVyLmpzJztcblxuZXhwb3J0IGNvbnN0IHBsYXllciA9IGNyZWF0ZVBsYXllcigpO1xuZXhwb3J0IGNvbnN0IG9wcG9uZW50ID0gY3JlYXRlQ29tcHV0ZXIoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcExvYWQoKSB7XG4gIHNldFBsYXllclRpdGxlTmFtZSgpO1xuICBzZXRFbGVtZW50RGlzcGxheSgnc2hpcHMnLCAnZmxleCcpO1xuICBzZXRFbGVtZW50RGlzcGxheSgnb3Bwb25lbnQtYm9hcmQnLCAnbm9uZScpO1xuICBkaXNwbGF5U2hpcHMocGxheWVyLnNoaXBzKTtcbiAgaW5pdGFsaXplUGxheWVyR3JpZChwbGF5ZXIpO1xuICBhZGRCdXR0b25FdmVudExpc3RlbmVycygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xuICBwbGF5ZXIudmFsaWRhdGVBbGxTaGlwc1BsYWNlZCgpO1xuICBzZXRQbGF5ZXJUaXRsZU5hbWUoKTtcbiAgc2V0RWxlbWVudERpc3BsYXkoJ3NoaXBzJywgJ25vbmUnKTtcbiAgcG9wdWxhdGVPcHBvbmVudEdyaWQob3Bwb25lbnQpO1xuICBvcHBvbmVudC5wbGFjZVNoaXBzKCk7XG4gIHNldEVsZW1lbnREaXNwbGF5KCdvcHBvbmVudC1ib2FyZCcsICdmbGV4Jyk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0R2FtZSgpIHt9XG5cbmFwcExvYWQoKTtcbiIsImltcG9ydCB7IHBvcHVsYXRlT3Bwb25lbnRHcmlkLCBwb3B1bGF0ZVBsYXllckdyaWQgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBnYW1lT3Zlciwgd2lubmVyIH0gZnJvbSAnLi9nYW1lTG9vcC5qcyc7XG5pbXBvcnQge1xuICBhcmVBbGxTaGlwc1BsYWNlZCxcbiAgYXJlQWxsU2hpcHNTdW5rLFxuICBtYWtlU2hpcHMsXG4gIG5ld0dhbWVib2FyZCxcbiAgcGxhY2VTaGlwc1JhbmRvbSxcbn0gZnJvbSAnLi9nYW1lYm9hcmQuanMnO1xuXG5pbXBvcnQgeyBwbGF5ZXIsIG9wcG9uZW50IH0gZnJvbSAnLi9pbmRleC5qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVBsYXllcigpIHtcbiAgbGV0IG5hbWUgPSAnUGxheWVyJztcbiAgY29uc3QgZ2FtZWJvYXJkID0gbmV3R2FtZWJvYXJkKCk7XG4gIGNvbnN0IHNoaXBzID0gbWFrZVNoaXBzKCk7XG4gIGxldCBhbGxTaGlwc1BsYWNlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGNsZWFyQm9hcmQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZWJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGdhbWVib2FyZFtpXVtqXS5oYXNTaGlwID0gbnVsbDtcbiAgICAgICAgZ2FtZWJvYXJkW2ldW2pdLmlzSGl0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRTaGlwcygpIHtcbiAgICBzaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICBzaGlwLmlzUGxhY2VkID0gZmFsc2U7XG4gICAgICBzaGlwLnZlcnRpY2FsID0gZmFsc2U7XG4gICAgICBzaGlwLmhpdHMgPSAwO1xuICAgICAgc2hpcC5zdW5rID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZVNoaXBzKCkge1xuICAgIHBsYWNlU2hpcHNSYW5kb20odGhpcyk7XG4gIH1cblxuICBmdW5jdGlvbiByZWNlaXZlQXR0YWNrKHgsIHkpIHtcbiAgICBpZiAoZ2FtZWJvYXJkW3ldW3hdLmlzSGl0ID09PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgc3F1YXJlIGhhcyBhbHJlYWR5IGJlZW4gaGl0IScpO1xuICAgIH1cbiAgICBnYW1lYm9hcmRbeV1beF0uaXNIaXQgPSB0cnVlO1xuICAgIGlmIChnYW1lYm9hcmRbeV1beF0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qgc2hpcEtleSA9IGdhbWVib2FyZFt5XVt4XS5oYXNTaGlwO1xuICAgICAgc2hpcHNbc2hpcEtleV0uaGl0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVBbGxTaGlwc1BsYWNlZCgpIHtcbiAgICBjb25zdCBwbGFjZWQgPSBhcmVBbGxTaGlwc1BsYWNlZChzaGlwcyk7XG4gICAgaWYgKHBsYWNlZCA9PT0gdHJ1ZSkge1xuICAgICAgYWxsU2hpcHNQbGFjZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwbGFjZSBhbGwgc2hpcHMgb24gdGhlIGJvYXJkJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGFrZVR1cm4oeCwgeSkge1xuICAgIG9wcG9uZW50LnJlY2VpdmVBdHRhY2soeCwgeSk7XG4gICAgaWYgKGFyZUFsbFNoaXBzU3VuayhvcHBvbmVudC5zaGlwcykpIHtcbiAgICAgIHdpbm5lciA9IGAke25hbWV9YDtcbiAgICAgIGdhbWVPdmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgcG9wdWxhdGVPcHBvbmVudEdyaWQob3Bwb25lbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRWYXJpYWJsZXMoKSB7XG4gICAgbmFtZSA9ICdQbGF5ZXInO1xuICAgIGNsZWFyQm9hcmQoKTtcbiAgICBhbGxTaGlwc1BsYWNlZCA9IGZhbHNlO1xuICAgIHJlc2V0U2hpcHMoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnYW1lYm9hcmQsXG4gICAgc2hpcHMsXG4gICAgdGFrZVR1cm4sXG4gICAgYWxsU2hpcHNQbGFjZWQsXG4gICAgcGxhY2VTaGlwcyxcbiAgICB2YWxpZGF0ZUFsbFNoaXBzUGxhY2VkLFxuICAgIGNsZWFyQm9hcmQsXG4gICAgdGFrZVR1cm4sXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICByZXNldFZhcmlhYmxlcyxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcHV0ZXIoKSB7XG4gIGNvbnN0IGlzQ29tcHV0ZXIgPSB0cnVlO1xuICBjb25zdCBuYW1lID0gJ0NvbXB1dGVyJztcbiAgY29uc3QgcHJldk1vdmVzID0gbmV3IFNldCgpO1xuICBjb25zdCBnYW1lYm9hcmQgPSBuZXdHYW1lYm9hcmQoKTtcbiAgY29uc3Qgc2hpcHMgPSBtYWtlU2hpcHMoKTtcbiAgbGV0IGFsbFNoaXBzUGxhY2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tQ29vcmRpbmF0ZXMoKSB7XG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIGlmIChwcmV2TW92ZXMuaGFzKGAke3h9LCR7eX1gKSkge1xuICAgICAgcmV0dXJuIGdldFJhbmRvbUNvb3JkaW5hdGVzKCk7XG4gICAgfVxuICAgIHByZXZNb3Zlcy5hZGQoYCR7eH0sJHt5fWApO1xuICAgIHJldHVybiBbeCwgeV07XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckJvYXJkKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZWJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdhbWVib2FyZFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBnYW1lYm9hcmRbaV1bal0uaGFzU2hpcCA9IG51bGw7XG4gICAgICAgIGdhbWVib2FyZFtpXVtqXS5pc0hpdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U2hpcHMoKSB7XG4gICAgc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgc2hpcC5pc1BsYWNlZCA9IGZhbHNlO1xuICAgICAgc2hpcC52ZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgc2hpcC5oaXRzID0gMDtcbiAgICAgIHNoaXAuc3VuayA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayh4LCB5KSB7XG4gICAgaWYgKGdhbWVib2FyZFt5XVt4XS5pc0hpdCA9PT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHNxdWFyZSBoYXMgYWxyZWFkeSBiZWVuIGhpdCEnKTtcbiAgICB9XG4gICAgZ2FtZWJvYXJkW3ldW3hdLmlzSGl0ID0gdHJ1ZTtcbiAgICBpZiAoZ2FtZWJvYXJkW3ldW3hdLmhhc1NoaXAgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHNoaXBLZXkgPSBnYW1lYm9hcmRbeV1beF0uaGFzU2hpcDtcbiAgICAgIHNoaXBzW3NoaXBLZXldLmhpdCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRha2VUdXJuKCkge1xuICAgIGNvbnN0IFt4LCB5XSA9IGdldFJhbmRvbUNvb3JkaW5hdGVzKCk7XG4gICAgcGxheWVyLnJlY2VpdmVBdHRhY2soeCwgeSk7XG4gICAgaWYgKGFyZUFsbFNoaXBzU3VuayhwbGF5ZXIuc2hpcHMpKSB7XG4gICAgICB3aW5uZXIgPSBgJHtuYW1lfWA7XG4gICAgICBnYW1lT3ZlciA9IHRydWU7XG4gICAgfVxuICAgIHBvcHVsYXRlUGxheWVyR3JpZChwbGF5ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VTaGlwcygpIHtcbiAgICBwbGFjZVNoaXBzUmFuZG9tKHRoaXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRWYXJpYWJsZXMoKSB7XG4gICAgY2xlYXJCb2FyZCgpO1xuICAgIGFsbFNoaXBzUGxhY2VkID0gZmFsc2U7XG4gICAgcmVzZXRTaGlwcygpO1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnYW1lYm9hcmQsXG4gICAgc2hpcHMsXG4gICAgdGFrZVR1cm4sXG4gICAgaXNDb21wdXRlcixcbiAgICBwbGFjZVNoaXBzLFxuICAgIGFsbFNoaXBzUGxhY2VkLFxuICAgIGNsZWFyQm9hcmQsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICB0YWtlVHVybixcbiAgICByZXNldFZhcmlhYmxlcyxcbiAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlUGxheWVyLCBjcmVhdGVDb21wdXRlciB9O1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY3JlYXRlU2hpcCIsIm5hbWUiLCJsZW5ndGgiLCJpc1BsYWNlZCIsInZlcnRpY2FsIiwiaGl0cyIsInN1bmsiLCJoaXQiLCJ0aGlzIiwic2lua0NoZWNrIiwiUk9XUyIsIkNPTFVNTlMiLCJuZXdHYW1lYm9hcmQiLCJnYW1lYm9hcmQiLCJBcnJheSIsImkiLCJqIiwiaXNIaXQiLCJoYXNTaGlwIiwibWFrZVNoaXBzIiwibmFtZXMiLCJzaXplIiwic2hpcHMiLCJzaGlwIiwicHVzaCIsImFyZUFsbFNoaXBzU3VuayIsImV2ZXJ5IiwiaGFzQWRqYWNlbnRTaGlwIiwieCIsInkiLCJwbGFjZVNoaXAiLCJjdXJyZW50U2hpcCIsImlzVmVydGljYWwiLCJwb3NpdGlvbkNoZWNrIiwiaXNWYWxpZFBvc2l0aW9uIiwicGxhY2VTaGlwc1JhbmRvbSIsInVzZXIiLCJzaGlwTGlzdCIsInBsYWNlUmFuZG9tIiwidHVyblNoaXAiLCJNYXRoIiwicmFuZG9tIiwiX3JhbmRvbUNvb3JkcyIsImZsb29yIiwiY2xlYXJCb2FyZCIsImZvckVhY2giLCJzZWxlY3RlZFBhcnQiLCJzaGlwS2V5IiwiZ2FtZU92ZXIiLCJ3aW5uZXIiLCJjbGVhckNvbnRhaW5lciIsImNvbnRhaW5lcklEIiwiZGl2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInBvcHVsYXRlUGxheWVyR3JpZCIsImdyaWQiLCJyb3ciLCJjZWxsIiwiY2VsbEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YXNldCIsImNvbnRhaW5zIiwiY2VsbEhpdCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiYXBwZW5kQ2hpbGQiLCJwb3B1bGF0ZU9wcG9uZW50R3JpZCIsImdyaWQyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJwbGF5ZXIiLCJ0YWtlVHVybiIsIm9wcG9uZW50Iiwic2V0RWxlbWVudERpc3BsYXkiLCJ0ZXh0Q29udGVudCIsImRpc3BsYXlTaGlwcyIsInBsYXllclNoaXBzIiwibmV3U2hpcCIsInNldEF0dHJpYnV0ZSIsInNoaXBQYXJ0IiwicGFydEluZGV4IiwicXVlcnlTZWxlY3RvckFsbCIsImRyYWdnYWJsZSIsImV2ZW50IiwicmVtb3ZlIiwiTnVtYmVyIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRUYXJnZXQiLCJhZGREcmFnYWJpbGl0eSIsImVsZW1lbnRJZCIsImRpc3BsYXlWYWx1ZSIsImRpc3BsYXkiLCJzZXRQbGF5ZXJUaXRsZU5hbWUiLCJfcmVmIiwiYWxsU2hpcHNQbGFjZWQiLCJyZWNlaXZlQXR0YWNrIiwiY29uY2F0IiwiX2RlZmluZVByb3BlcnR5IiwicGxhY2VTaGlwcyIsInZhbGlkYXRlQWxsU2hpcHNQbGFjZWQiLCJwbGFjZWQiLCJhcmVBbGxTaGlwc1BsYWNlZCIsIkVycm9yIiwiY3JlYXRlUGxheWVyIiwiX3JlZjIiLCJwcmV2TW92ZXMiLCJTZXQiLCJnZXRSYW5kb21Db29yZGluYXRlcyIsImhhcyIsIl9nZXRSYW5kb21Db29yZGluYXRlczIiLCJpc0NvbXB1dGVyIiwiY3JlYXRlQ29tcHV0ZXIiLCJhcHBMb2FkIiwiY2xlYXJCdG4iLCJzdGFydEJ0biIsInJhbmRvbUJ0biIsInJlcGxheUJ0biIsInByZXZlbnREZWZhdWx0IiwiYWRkR2FtZWJvYXJkRXZlbnRMaXN0ZW5lcnMiLCJwbGF5ZXJOYW1lIiwidmFsdWUiLCJzdGFydEdhbWUiLCJyZXNldFZhcmlhYmxlcyJdLCJzb3VyY2VSb290IjoiIn0=