(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(t,e,n){return{isPlaced:!1,key:t,name:e,length:n,vertical:!1,hits:0,sunk:!1,hit:function(){this.hits++,this.sinkCheck()},sinkCheck:function(){this.hits>=this.length?this.sunk=!0:this.sunk=!1}}}t.d({},{Uo:()=>w,DH:()=>C,hM:()=>P,t:()=>B});var n=10,r=10;function a(){for(var t=new Array(n),e=0;e<t.length;e++){t[e]=new Array(r);for(var a=0;a<t[e].length;a++)t[e][a]={isHit:!1,hasShip:null}}return t}function i(){for(var t=["Aircraft Carrier","Battleship","Cruiser","Destroyer","Destroyer","Submarine","Submarine"],n=[5,4,3,2,2,1,1],r=[0,1,2,3,4,5,6],a=[],i=0;i<7;i++){var o=e(r[i],t[i],n[i]);a.push(o)}return a}function o(t){return t.every((function(t){return t.sunk}))}function l(t,e,a){return e>0&&null!==a[e-1][t].hasShip||e<n-1&&null!==a[e+1][t].hasShip||t>0&&null!==a[e][t-1].hasShip||t<r-1&&null!==a[e][t+1].hasShip||e>0&&t>0&&null!==a[e-1][t-1].hasShip||e>0&&t<r-1&&null!==a[e-1][t+1].hasShip||e<n-1&&t>0&&null!==a[e+1][t-1].hasShip||e<n-1&&t<r-1&&null!==a[e+1][t+1].hasShip}function s(t,e,a,i){var o=e.key,s=e.length,c=e.vertical,u=function(t,e,a,i,o){var s=t.length;if(i){if(a+s>n)return!1;for(var c=0;c<s;c++)if(l(e,a+c,o))return!1}else{if(e+s>r)return!1;for(var u=0;u<s;u++)if(l(e+u,a,o))return!1}return!0}(e,a,i,c,t);if(u){if(c)for(var d=0;d<s;d++)t[i+d][a].hasShip=o;else for(var h=0;h<s;h++)t[i][a+h].hasShip=o;return e.isPlaced=!0,!0}return!1}function c(t){var e=t.ships,n=t.gameboard;function r(t){t=function(t,e){return e.vertical=!!t,e}(Math.random()>=.5,t);var e={x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())};s(n,t,e.x,e.y)||r(t)}t.clearBoard(),e.forEach((function(t){t.isPlaced=!1,t.vertical=!1})),e.forEach((function(t){r(t)}))}var u,d,h=!1,f=null;function p(t){for(var e=document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)}function v(t){p("playerGameboard");var e=document.getElementById("playerGameboard"),n=0;t.gameboard.forEach((function(t){var r=0;t.forEach((function(t){var a=document.createElement("div");a.classList.add("gridPart"),a.dataset.contains=t.hasShip,a.dataset.cellHit=t.isHit,a.dataset.y=n,a.dataset.x=r,null!==t.hasShip&&(a.style.backgroundColor="#B0BEC5"),!0===t.isHit&&(a.style.backgroundColor="#FFD97D"),null!==t.hasShip&&!0===t.isHit&&(a.style.backgroundColor="#EE6055"),e.appendChild(a),r++})),n++}))}function m(t){p("opponentGameboard");var e=document.getElementById("opponentGameboard"),n=0;t.gameboard.forEach((function(t){var r=0;t.forEach((function(t){var a=document.createElement("div");a.classList.add("gridPart"),a.dataset.contains=t.hasShip,a.dataset.cellHit=t.isHit,a.dataset.y=n,a.dataset.x=r,a.addEventListener("click",(function(t){var e,n;e=t.target.dataset.x,n=t.target.dataset.y,!1===h&&(P.takeTurn(e,n),C.takeTurn()),!0===h&&(g("winner-popup","block"),document.getElementById("winningName").textContent=f)})),!0===t.isHit&&(a.style.backgroundColor="#FFD97D"),null!==t.hasShip&&!0===t.isHit&&(a.style.backgroundColor="#EE6055"),e.appendChild(a),r++})),n++}))}function y(t){p("playerShips");var e=document.getElementById("playerShips");t.forEach((function(t){var n=document.createElement("div");n.classList.add("ship"),n.dataset.shipKey=t.key,n.dataset.isPlaced=t.isPlaced,n.dataset.isVertical=t.vertical,!0===t.isPlaced?(n.setAttribute("draggable",!1),n.classList.add("placed")):(n.setAttribute("draggable",!0),n.classList.add("draggable"));for(var r=0;r<t.length;r++){var a=document.createElement("div");a.classList.add("shipPart"),a.dataset.partIndex=r,n.appendChild(a)}e.appendChild(n)})),function(t){document.querySelectorAll(".draggable").forEach((function(e){e.addEventListener("dragstart",(function(t){d=t.target.dataset.shipKey,e.classList.add("dragging")})),e.addEventListener("dragend",(function(){e.classList.remove("dragging")})),e.addEventListener("mousedown",(function(t){u=Number(t.target.dataset.partIndex)})),e.addEventListener("click",(function(e){console.log(e.currentTarget);var n=e.currentTarget.dataset.shipKey,r=t[n];console.log(r),console.log(r.vertical),r.vertical=!r.vertical,y(t)}))}))}(t)}function g(t,e){document.getElementById(t).style.display=e}function b(){document.getElementById("playerName").textContent=P.name}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===E(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(){var t,e="Player",n=a(),r=i(),l=!1;function s(){for(var t=0;t<n.length;t++)for(var e=0;e<n[t].length;e++)n[t][e].hasShip=null,n[t][e].isHit=!1}function u(t,n){C.receiveAttack(t,n),o(C.ships)&&(f="".concat(e),h=!0),m(C)}return k(t={name:e,gameboard:n,ships:r,takeTurn:u,allShipsPlaced:l,placeShips:function(){c(this)},validateAllShipsPlaced:function(){var t=function(t){return t.every((function(t){return t.isPlaced}))}(r);if(!0!==t)throw new Error("Please place all ships on the board");l=!0},clearBoard:s},"takeTurn",u),k(t,"receiveAttack",(function(t,e){if(!0===n[e][t].isHit)throw new Error("This square has already been hit!");if(n[e][t].isHit=!0,null!==n[e][t].hasShip){var a=n[e][t].hasShip;r[a].hit()}})),k(t,"resetVariables",(function(){e="Player",s(),l=!1,r.forEach((function(t){t.isPlaced=!1,t.vertical=!1,t.hits=0,t.sunk=!1}))})),t}(),C=function(){var t,e="Computer",n=new Set,r=a(),l=i(),s=!1;function u(){var t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());return n.has("".concat(t,",").concat(e))?u():(n.add("".concat(t,",").concat(e)),[t,e])}function d(){for(var t=0;t<r.length;t++)for(var e=0;e<r[t].length;e++)r[t][e].hasShip=null,r[t][e].isHit=!1}function p(){var t,n,r=(t=u(),n=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){c=!0,a=t}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(t,n)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];P.receiveAttack(a,i),o(P.ships)&&(f="".concat(e),h=!0),v(P)}return t={name:e,gameboard:r,ships:l,takeTurn:p,isComputer:!0,placeShips:function(){c(this)},allShipsPlaced:s,clearBoard:d,receiveAttack:function(t,e){if(!0===r[e][t].isHit)throw new Error("This square has already been hit!");if(r[e][t].isHit=!0,null!==r[e][t].hasShip){var n=r[e][t].hasShip;l[n].hit()}}},k(t,"takeTurn",p),k(t,"resetVariables",(function(){d(),s=!1,l.forEach((function(t){t.isPlaced=!1,t.vertical=!1,t.hits=0,t.sunk=!1}))})),t}();function w(){var t,e,n,r,i;b(),g("ships","flex"),g("opponent-board","none"),y(P.ships),v(i=P),function(t){var e=document.getElementById("playerGameboard");e.addEventListener("dragover",(function(t){t.preventDefault()})),e.addEventListener("dragenter",(function(t){t.preventDefault()})),e.addEventListener("drop",(function(e){e.preventDefault();var n=e.target,r=t.ships[d].vertical;console.log(r),console.log(u);var a=Number(n.dataset.x-(r?0:u)),i=Number(n.dataset.y-(r?u:0));console.log(a,i),s(t.gameboard,t.ships[d],a,i),v(t),y(t.ships)}))}(i),t=document.getElementById("clearBoard"),e=document.getElementById("startGame"),n=document.getElementById("randomBoard"),r=document.getElementById("playAgain"),t.addEventListener("click",(function(){var t;(t=P).gameboard=a(),t.allShipsPlaced=!1,t.ships.forEach((function(t){t.isPlaced=!1,t.vertical=!1})),v(t),!0!==t.isComputer&&y(t.ships)})),n.addEventListener("click",(function(){c(P),v(P),y(P.ships)})),e.addEventListener("click",(function(){var t=document.getElementById("nameInput");""!==t.value&&(P.name=t.value,t.value="",B())})),r.addEventListener("click",(function(){P.resetVariables(),C.resetVariables(),g("winner-popup","none"),w()}))}function B(){P.validateAllShipsPlaced(),b(),g("ships","none"),m(C),C.placeShips(),g("opponent-board","flex")}w()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEIsSUFFQW9HLEVBQVVqRCxpQkFBaUIsU0FBUyxXQUNsQ3RDLEVBQWlCeUMsR0FDakJuQixFQUFtQm1CLEdBQ25CSyxFQUFhTCxFQUFPdEQsTUFDdEIsSUFFQW1HLEVBQVNoRCxpQkFBaUIsU0FBUyxXQUNqQyxJQUFNcUQsRUFBYXpFLFNBQVNDLGVBQWUsYUFDbEIsS0FBckJ3RSxFQUFXQyxRQUdmbkQsRUFBTzNFLEtBQU82SCxFQUFXQyxNQUN6QkQsRUFBV0MsTUFBUSxHQUNuQkMsSUFDRixJQUVBTCxFQUFVbEQsaUJBQWlCLFNBQVMsV0FDbENHLEVBQU9xRCxpQkFDUG5ELEVBQVNtRCxpQkFDVGxELEVBQWtCLGVBQWdCLFFBQ2xDd0MsR0FDRixHQ3pMRixDQUVPLFNBQVNTLElBQ2RwRCxFQUFPOEIseUJBQ1BQLElBQ0FwQixFQUFrQixRQUFTLFFBQzNCUixFQUFxQk8sR0FDckJBLEVBQVMyQixhQUNUMUIsRUFBa0IsaUJBQWtCLE9BQ3RDLENBSUF3QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVMb29wLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZG9tLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJmdW5jdGlvbiBjcmVhdGVTaGlwKGtleSwgbmFtZSwgbGVuZ3RoKSB7XG4gIHJldHVybiB7XG4gICAgaXNQbGFjZWQ6IGZhbHNlLFxuICAgIGtleSxcbiAgICBuYW1lLFxuICAgIGxlbmd0aCxcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgaGl0czogMCxcbiAgICBzdW5rOiBmYWxzZSxcbiAgICBoaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaGl0cysrO1xuICAgICAgdGhpcy5zaW5rQ2hlY2soKTtcbiAgICB9LFxuICAgIHNpbmtDaGVjazogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaGl0cyA+PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnN1bmsgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdW5rID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlU2hpcCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlU2hpcCB9IGZyb20gJy4vc2hpcHMuanMnO1xuaW1wb3J0IHsgZGlzcGxheVNoaXBzLCBwb3B1bGF0ZVBsYXllckdyaWQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmNvbnN0IFJPV1MgPSAxMDtcbmNvbnN0IENPTFVNTlMgPSAxMDtcblxuZnVuY3Rpb24gbmV3R2FtZWJvYXJkKCkge1xuICBjb25zdCBnYW1lYm9hcmQgPSBuZXcgQXJyYXkoUk9XUyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZWJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgZ2FtZWJvYXJkW2ldID0gbmV3IEFycmF5KENPTFVNTlMpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZWJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICBnYW1lYm9hcmRbaV1bal0gPSB7XG4gICAgICAgIGlzSGl0OiBmYWxzZSxcbiAgICAgICAgaGFzU2hpcDogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBnYW1lYm9hcmQ7XG59XG5cbmZ1bmN0aW9uIG1ha2VTaGlwcygpIHtcbiAgbGV0IG5hbWVzID0gW1xuICAgICdBaXJjcmFmdCBDYXJyaWVyJyxcbiAgICAnQmF0dGxlc2hpcCcsXG4gICAgJ0NydWlzZXInLFxuICAgICdEZXN0cm95ZXInLFxuICAgICdEZXN0cm95ZXInLFxuICAgICdTdWJtYXJpbmUnLFxuICAgICdTdWJtYXJpbmUnLFxuICBdO1xuICBsZXQgc2l6ZSA9IFs1LCA0LCAzLCAyLCAyLCAxLCAxXTtcbiAgbGV0IGtleSA9IFswLCAxLCAyLCAzLCA0LCA1LCA2XTtcbiAgbGV0IHNoaXBzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgbGV0IHNoaXAgPSBjcmVhdGVTaGlwKGtleVtpXSwgbmFtZXNbaV0sIHNpemVbaV0pO1xuICAgIHNoaXBzLnB1c2goc2hpcCk7XG4gIH1cbiAgcmV0dXJuIHNoaXBzO1xufVxuXG5mdW5jdGlvbiBhcmVBbGxTaGlwc1N1bmsoc2hpcHMpIHtcbiAgcmV0dXJuIHNoaXBzLmV2ZXJ5KChzaGlwKSA9PiBzaGlwLnN1bmspO1xufVxuXG5mdW5jdGlvbiBhcmVBbGxTaGlwc1BsYWNlZChzaGlwcykge1xuICByZXR1cm4gc2hpcHMuZXZlcnkoKHNoaXApID0+IHNoaXAuaXNQbGFjZWQpO1xufVxuXG5mdW5jdGlvbiBoYXNBZGphY2VudFNoaXAoeCwgeSwgZ2FtZWJvYXJkKSB7XG4gIC8vIENoZWNrIHRoZSBzcXVhcmUgYWJvdmVcbiAgaWYgKHkgPiAwICYmIGdhbWVib2FyZFt5IC0gMV1beF0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHNxdWFyZSBiZWxvd1xuICBpZiAoeSA8IFJPV1MgLSAxICYmIGdhbWVib2FyZFt5ICsgMV1beF0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHNxdWFyZSB0byB0aGUgbGVmdFxuICBpZiAoeCA+IDAgJiYgZ2FtZWJvYXJkW3ldW3ggLSAxXS5oYXNTaGlwICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBDaGVjayB0aGUgc3F1YXJlIHRvIHRoZSByaWdodFxuICBpZiAoeCA8IENPTFVNTlMgLSAxICYmIGdhbWVib2FyZFt5XVt4ICsgMV0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHRvcC1sZWZ0IGNvcm5lclxuICBpZiAoeSA+IDAgJiYgeCA+IDAgJiYgZ2FtZWJvYXJkW3kgLSAxXVt4IC0gMV0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIHRvcC1yaWdodCBjb3JuZXJcbiAgaWYgKHkgPiAwICYmIHggPCBDT0xVTU5TIC0gMSAmJiBnYW1lYm9hcmRbeSAtIDFdW3ggKyAxXS5oYXNTaGlwICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBDaGVjayB0aGUgYm90dG9tLWxlZnQgY29ybmVyXG4gIGlmICh5IDwgUk9XUyAtIDEgJiYgeCA+IDAgJiYgZ2FtZWJvYXJkW3kgKyAxXVt4IC0gMV0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXJcbiAgaWYgKFxuICAgIHkgPCBST1dTIC0gMSAmJlxuICAgIHggPCBDT0xVTU5TIC0gMSAmJlxuICAgIGdhbWVib2FyZFt5ICsgMV1beCArIDFdLmhhc1NoaXAgIT09IG51bGxcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRQb3NpdGlvbihzaGlwLCB4LCB5LCBpc1ZlcnRpY2FsLCBnYW1lYm9hcmQpIHtcbiAgY29uc3QgbGVuZ3RoID0gc2hpcC5sZW5ndGg7XG5cbiAgaWYgKGlzVmVydGljYWwpIHtcbiAgICBpZiAoeSArIGxlbmd0aCA+IFJPV1MpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBjaGVjayB0aGUgc3F1YXJlIGFib3ZlLCBiZWxvdywgYW5kIGFyb3VuZCB0aGUgc2hpcFxuICAgICAgaWYgKGhhc0FkamFjZW50U2hpcCh4LCB5ICsgaSwgZ2FtZWJvYXJkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh4ICsgbGVuZ3RoID4gQ09MVU1OUykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGNoZWNrIHRoZSBzcXVhcmUgdG8gdGhlIGxlZnQsIHJpZ2h0LCBhbmQgYXJvdW5kIHRoZSBzaGlwXG4gICAgICBpZiAoaGFzQWRqYWNlbnRTaGlwKHggKyBpLCB5LCBnYW1lYm9hcmQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGxhY2VTaGlwKGdhbWVib2FyZCwgY3VycmVudFNoaXAsIHgsIHkpIHtcbiAgY29uc3Qga2V5ID0gY3VycmVudFNoaXAua2V5O1xuICBjb25zdCBsZW5ndGggPSBjdXJyZW50U2hpcC5sZW5ndGg7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBjdXJyZW50U2hpcC52ZXJ0aWNhbDtcblxuICBjb25zdCBwb3NpdGlvbkNoZWNrID0gaXNWYWxpZFBvc2l0aW9uKFxuICAgIGN1cnJlbnRTaGlwLFxuICAgIHgsXG4gICAgeSxcbiAgICBpc1ZlcnRpY2FsLFxuICAgIGdhbWVib2FyZFxuICApO1xuXG4gIGlmIChwb3NpdGlvbkNoZWNrKSB7XG4gICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ2FtZWJvYXJkW3kgKyBpXVt4XS5oYXNTaGlwID0ga2V5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdhbWVib2FyZFt5XVt4ICsgaV0uaGFzU2hpcCA9IGtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgY3VycmVudFNoaXAuaXNQbGFjZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0dXJuU2hpcCh2ZXJ0aWNhbCwgc2hpcCkge1xuICBpZiAodmVydGljYWwpIHtcbiAgICBzaGlwLnZlcnRpY2FsID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzaGlwLnZlcnRpY2FsID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHNoaXA7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbUNvb3JkcygpIHtcbiAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xufVxuXG5mdW5jdGlvbiBwbGFjZVNoaXBzUmFuZG9tKHVzZXIpIHtcbiAgY29uc3Qgc2hpcExpc3QgPSB1c2VyLnNoaXBzO1xuICBjb25zdCBnYW1lYm9hcmQgPSB1c2VyLmdhbWVib2FyZDtcbiAgdXNlci5jbGVhckJvYXJkKCk7XG4gIHNoaXBMaXN0LmZvckVhY2goKHNoaXApID0+IHtcbiAgICBzaGlwLmlzUGxhY2VkID0gZmFsc2U7XG4gICAgc2hpcC52ZXJ0aWNhbCA9IGZhbHNlO1xuICB9KTtcblxuICBmdW5jdGlvbiBwbGFjZVJhbmRvbShzaGlwKSB7XG4gICAgY29uc3QgdmVydGljYWwgPSBNYXRoLnJhbmRvbSgpID49IDAuNTtcbiAgICBzaGlwID0gdHVyblNoaXAodmVydGljYWwsIHNoaXApO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gcmFuZG9tQ29vcmRzKCk7XG4gICAgY29uc3QgcGxhY2VkID0gcGxhY2VTaGlwKGdhbWVib2FyZCwgc2hpcCwgeCwgeSk7XG4gICAgaWYgKCFwbGFjZWQpIHBsYWNlUmFuZG9tKHNoaXApO1xuICB9XG5cbiAgc2hpcExpc3QuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgIHBsYWNlUmFuZG9tKHNoaXApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzZXRCb2FyZCh1c2VyKSB7XG4gIHVzZXIuZ2FtZWJvYXJkID0gbmV3R2FtZWJvYXJkKCk7XG4gIHVzZXIuYWxsU2hpcHNQbGFjZWQgPSBmYWxzZTtcbiAgdXNlci5zaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgc2hpcC5pc1BsYWNlZCA9IGZhbHNlO1xuICAgIHNoaXAudmVydGljYWwgPSBmYWxzZTtcbiAgfSk7XG4gIHBvcHVsYXRlUGxheWVyR3JpZCh1c2VyKTtcbiAgaWYgKHVzZXIuaXNDb21wdXRlciA9PT0gdHJ1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBkaXNwbGF5U2hpcHModXNlci5zaGlwcyk7XG59XG5cbmV4cG9ydCB7XG4gIG1ha2VTaGlwcyxcbiAgcGxhY2VTaGlwLFxuICBuZXdHYW1lYm9hcmQsXG4gIGFyZUFsbFNoaXBzU3VuayxcbiAgcGxhY2VTaGlwc1JhbmRvbSxcbiAgYXJlQWxsU2hpcHNQbGFjZWQsXG4gIHJlc2V0Qm9hcmQsXG59O1xuIiwiaW1wb3J0IHsgc2V0RWxlbWVudERpc3BsYXkgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBvcHBvbmVudCwgcGxheWVyIH0gZnJvbSAnLi9pbmRleC5qcyc7XG5cbmV4cG9ydCBsZXQgZ2FtZU92ZXIgPSBmYWxzZTtcbmV4cG9ydCBsZXQgd2lubmVyID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGdhbWVMb29wKHgsIHkpIHtcbiAgaWYgKGdhbWVPdmVyID09PSBmYWxzZSkge1xuICAgIHBsYXllci50YWtlVHVybih4LCB5KTtcbiAgICBvcHBvbmVudC50YWtlVHVybigpO1xuICB9XG4gIGlmIChnYW1lT3ZlciA9PT0gdHJ1ZSkge1xuICAgIHNldEVsZW1lbnREaXNwbGF5KCd3aW5uZXItcG9wdXAnLCAnYmxvY2snKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmluZ05hbWUnKS50ZXh0Q29udGVudCA9IHdpbm5lcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgb3Bwb25lbnQsIHN0YXJ0R2FtZSwgYXBwTG9hZCB9IGZyb20gJy4vaW5kZXguanMnO1xuaW1wb3J0IHtcbiAgcGxhY2VTaGlwLFxuICBwbGFjZVNoaXBzUmFuZG9tLFxuICByZXNldEJvYXJkLFxuICB0dXJuU2hpcCxcbn0gZnJvbSAnLi9nYW1lYm9hcmQuanMnO1xuaW1wb3J0IHsgcGxheWVyIH0gZnJvbSAnLi9pbmRleC5qcyc7XG5pbXBvcnQgeyBnYW1lTG9vcCB9IGZyb20gJy4vZ2FtZUxvb3AuanMnO1xuXG5mdW5jdGlvbiBjbGVhckNvbnRhaW5lcihjb250YWluZXJJRCkge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJRCk7XG4gIHdoaWxlIChkaXYuZmlyc3RDaGlsZCkge1xuICAgIGRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVHcmlkcyhwbGF5ZXIxLCBwbGF5ZXIyKSB7XG4gIGluaXRhbGl6ZVBsYXllckdyaWQocGxheWVyMSk7XG4gIHBvcHVsYXRlT3Bwb25lbnRHcmlkKHBsYXllcjIpO1xufVxuXG5mdW5jdGlvbiBpbml0YWxpemVQbGF5ZXJHcmlkKHVzZXIpIHtcbiAgcG9wdWxhdGVQbGF5ZXJHcmlkKHVzZXIpO1xuICBhZGRHYW1lYm9hcmRFdmVudExpc3RlbmVycyh1c2VyKTtcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVQbGF5ZXJHcmlkKHVzZXIpIHtcbiAgY2xlYXJDb250YWluZXIoJ3BsYXllckdhbWVib2FyZCcpO1xuICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllckdhbWVib2FyZCcpO1xuICBsZXQgaiA9IDA7XG4gIHVzZXIuZ2FtZWJvYXJkLmZvckVhY2goKHJvdykgPT4ge1xuICAgIGxldCBpID0gMDtcblxuICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBjb25zdCBjZWxsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY2VsbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ3JpZFBhcnQnKTtcbiAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQuY29udGFpbnMgPSBjZWxsLmhhc1NoaXA7XG4gICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LmNlbGxIaXQgPSBjZWxsLmlzSGl0O1xuICAgICAgY2VsbEVsZW1lbnQuZGF0YXNldC55ID0gajtcbiAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQueCA9IGk7XG5cbiAgICAgIGlmIChjZWxsLmhhc1NoaXAgIT09IG51bGwpIHtcbiAgICAgICAgY2VsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNCMEJFQzUnO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGwuaXNIaXQgPT09IHRydWUpIHtcbiAgICAgICAgY2VsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRkQ5N0QnO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGwuaGFzU2hpcCAhPT0gbnVsbCAmJiBjZWxsLmlzSGl0ID09PSB0cnVlKSB7XG4gICAgICAgIGNlbGxFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRUU2MDU1JztcbiAgICAgIH1cbiAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2VsbEVsZW1lbnQpO1xuICAgICAgaSsrO1xuICAgIH0pO1xuICAgIGorKztcbiAgfSk7XG59XG5mdW5jdGlvbiBwb3B1bGF0ZU9wcG9uZW50R3JpZCh1c2VyKSB7XG4gIGNsZWFyQ29udGFpbmVyKCdvcHBvbmVudEdhbWVib2FyZCcpO1xuICBjb25zdCBncmlkMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHBvbmVudEdhbWVib2FyZCcpO1xuICBsZXQgaiA9IDA7XG4gIHVzZXIuZ2FtZWJvYXJkLmZvckVhY2goKHJvdykgPT4ge1xuICAgIGxldCBpID0gMDtcblxuICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBjb25zdCBjZWxsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY2VsbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ3JpZFBhcnQnKTtcbiAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQuY29udGFpbnMgPSBjZWxsLmhhc1NoaXA7XG4gICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LmNlbGxIaXQgPSBjZWxsLmlzSGl0O1xuICAgICAgY2VsbEVsZW1lbnQuZGF0YXNldC55ID0gajtcbiAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQueCA9IGk7XG4gICAgICBjZWxsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLnRhcmdldC5kYXRhc2V0Lng7XG4gICAgICAgIGNvbnN0IHkgPSBlLnRhcmdldC5kYXRhc2V0Lnk7XG4gICAgICAgIGdhbWVMb29wKHgsIHkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoY2VsbC5pc0hpdCA9PT0gdHJ1ZSkge1xuICAgICAgICBjZWxsRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGRDk3RCc7XG4gICAgICB9XG4gICAgICBpZiAoY2VsbC5oYXNTaGlwICE9PSBudWxsICYmIGNlbGwuaXNIaXQgPT09IHRydWUpIHtcbiAgICAgICAgY2VsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNFRTYwNTUnO1xuICAgICAgfVxuICAgICAgZ3JpZDIuYXBwZW5kQ2hpbGQoY2VsbEVsZW1lbnQpO1xuICAgICAgaSsrO1xuICAgIH0pO1xuICAgIGorKztcbiAgfSk7XG59XG5cbmxldCBzZWxlY3RlZFBhcnQ7XG5sZXQgc2hpcEtleTtcblxuZnVuY3Rpb24gYWRkR2FtZWJvYXJkRXZlbnRMaXN0ZW5lcnModXNlcikge1xuICBjb25zdCBnYW1lYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyR2FtZWJvYXJkJyk7XG5cbiAgZ2FtZWJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG5cbiAgZ2FtZWJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xuXG4gIGdhbWVib2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBjZWxsID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSB1c2VyLnNoaXBzW3NoaXBLZXldLnZlcnRpY2FsO1xuICAgIGNvbnNvbGUubG9nKGlzVmVydGljYWwpO1xuICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkUGFydCk7XG4gICAgY29uc3QgeCA9IE51bWJlcihjZWxsLmRhdGFzZXQueCAtIChpc1ZlcnRpY2FsID8gMCA6IHNlbGVjdGVkUGFydCkpO1xuICAgIGNvbnN0IHkgPSBOdW1iZXIoY2VsbC5kYXRhc2V0LnkgLSAoaXNWZXJ0aWNhbCA/IHNlbGVjdGVkUGFydCA6IDApKTtcbiAgICBjb25zb2xlLmxvZyh4LCB5KTtcbiAgICBwbGFjZVNoaXAodXNlci5nYW1lYm9hcmQsIHVzZXIuc2hpcHNbc2hpcEtleV0sIHgsIHkpO1xuICAgIHBvcHVsYXRlUGxheWVyR3JpZCh1c2VyKTtcbiAgICBkaXNwbGF5U2hpcHModXNlci5zaGlwcyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGREcmFnYWJpbGl0eShzaGlwcykge1xuICBjb25zdCBkcmFnZ2FibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyYWdnYWJsZScpO1xuXG4gIGRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XG4gICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgc2hpcEtleSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnNoaXBLZXk7XG4gICAgICBkcmFnZ2FibGUuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcbiAgICB9KTtcbiAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgIGRyYWdnYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xuICAgIH0pO1xuICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIHNlbGVjdGVkUGFydCA9IE51bWJlcihldmVudC50YXJnZXQuZGF0YXNldC5wYXJ0SW5kZXgpO1xuICAgIH0pO1xuXG4gICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IHNoaXBLZXkgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc2hpcEtleTtcbiAgICAgIGNvbnN0IHNoaXAgPSBzaGlwc1tzaGlwS2V5XTtcbiAgICAgIGNvbnNvbGUubG9nKHNoaXApO1xuICAgICAgY29uc29sZS5sb2coc2hpcC52ZXJ0aWNhbCk7XG4gICAgICBzaGlwLnZlcnRpY2FsID0gIXNoaXAudmVydGljYWw7XG4gICAgICBkaXNwbGF5U2hpcHMoc2hpcHMpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVNoaXBzKHNoaXBzKSB7XG4gIGNsZWFyQ29udGFpbmVyKCdwbGF5ZXJTaGlwcycpO1xuICBjb25zdCBwbGF5ZXJTaGlwcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXJTaGlwcycpO1xuICBzaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgY29uc3QgbmV3U2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5ld1NoaXAuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xuXG4gICAgbmV3U2hpcC5kYXRhc2V0LnNoaXBLZXkgPSBzaGlwLmtleTtcbiAgICBuZXdTaGlwLmRhdGFzZXQuaXNQbGFjZWQgPSBzaGlwLmlzUGxhY2VkO1xuICAgIG5ld1NoaXAuZGF0YXNldC5pc1ZlcnRpY2FsID0gc2hpcC52ZXJ0aWNhbDtcblxuICAgIGlmIChzaGlwLmlzUGxhY2VkID09PSB0cnVlKSB7XG4gICAgICBuZXdTaGlwLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZmFsc2UpO1xuICAgICAgbmV3U2hpcC5jbGFzc0xpc3QuYWRkKCdwbGFjZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U2hpcC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIHRydWUpO1xuICAgICAgbmV3U2hpcC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2FibGUnKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzaGlwUGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2hpcFBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcFBhcnQnKTtcbiAgICAgIHNoaXBQYXJ0LmRhdGFzZXQucGFydEluZGV4ID0gaTtcbiAgICAgIG5ld1NoaXAuYXBwZW5kQ2hpbGQoc2hpcFBhcnQpO1xuICAgIH1cbiAgICBwbGF5ZXJTaGlwcy5hcHBlbmRDaGlsZChuZXdTaGlwKTtcbiAgfSk7XG4gIGFkZERyYWdhYmlsaXR5KHNoaXBzKTtcbn1cblxuZnVuY3Rpb24gYWRkQnV0dG9uRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGNvbnN0IGNsZWFyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsZWFyQm9hcmQnKTtcbiAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRHYW1lJyk7XG4gIGNvbnN0IHJhbmRvbUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5kb21Cb2FyZCcpO1xuICBjb25zdCByZXBsYXlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheUFnYWluJyk7XG5cbiAgY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVzZXRCb2FyZChwbGF5ZXIpO1xuICB9KTtcblxuICByYW5kb21CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcGxhY2VTaGlwc1JhbmRvbShwbGF5ZXIpO1xuICAgIHBvcHVsYXRlUGxheWVyR3JpZChwbGF5ZXIpO1xuICAgIGRpc3BsYXlTaGlwcyhwbGF5ZXIuc2hpcHMpO1xuICB9KTtcblxuICBzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWVJbnB1dCcpO1xuICAgIGlmIChwbGF5ZXJOYW1lLnZhbHVlID09PSAnJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwbGF5ZXIubmFtZSA9IHBsYXllck5hbWUudmFsdWU7XG4gICAgcGxheWVyTmFtZS52YWx1ZSA9ICcnO1xuICAgIHN0YXJ0R2FtZSgpO1xuICB9KTtcblxuICByZXBsYXlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcGxheWVyLnJlc2V0VmFyaWFibGVzKCk7XG4gICAgb3Bwb25lbnQucmVzZXRWYXJpYWJsZXMoKTtcbiAgICBzZXRFbGVtZW50RGlzcGxheSgnd2lubmVyLXBvcHVwJywgJ25vbmUnKTtcbiAgICBhcHBMb2FkKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRFbGVtZW50RGlzcGxheShlbGVtZW50SWQsIGRpc3BsYXlWYWx1ZSkge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVZhbHVlO1xufVxuXG5mdW5jdGlvbiBzZXRQbGF5ZXJUaXRsZU5hbWUoKSB7XG4gIGNvbnN0IHBsYXllck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyTmFtZScpO1xuICBwbGF5ZXJOYW1lLnRleHRDb250ZW50ID0gcGxheWVyLm5hbWU7XG59XG5cbmV4cG9ydCB7XG4gIHBvcHVsYXRlR3JpZHMsXG4gIGRpc3BsYXlTaGlwcyxcbiAgYWRkRHJhZ2FiaWxpdHksXG4gIGFkZEJ1dHRvbkV2ZW50TGlzdGVuZXJzLFxuICBwb3B1bGF0ZVBsYXllckdyaWQsXG4gIHBvcHVsYXRlT3Bwb25lbnRHcmlkLFxuICBpbml0YWxpemVQbGF5ZXJHcmlkLFxuICBzZXRFbGVtZW50RGlzcGxheSxcbiAgc2V0UGxheWVyVGl0bGVOYW1lLFxufTtcbiIsImltcG9ydCB7XG4gIGFkZEJ1dHRvbkV2ZW50TGlzdGVuZXJzLFxuICBkaXNwbGF5U2hpcHMsXG4gIGluaXRhbGl6ZVBsYXllckdyaWQsXG4gIHBvcHVsYXRlT3Bwb25lbnRHcmlkLFxuICBzZXRFbGVtZW50RGlzcGxheSxcbiAgc2V0UGxheWVyVGl0bGVOYW1lLFxufSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXIsIGNyZWF0ZUNvbXB1dGVyIH0gZnJvbSAnLi9wbGF5ZXIuanMnO1xuXG5leHBvcnQgY29uc3QgcGxheWVyID0gY3JlYXRlUGxheWVyKCk7XG5leHBvcnQgY29uc3Qgb3Bwb25lbnQgPSBjcmVhdGVDb21wdXRlcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwTG9hZCgpIHtcbiAgc2V0UGxheWVyVGl0bGVOYW1lKCk7XG4gIHNldEVsZW1lbnREaXNwbGF5KCdzaGlwcycsICdmbGV4Jyk7XG4gIHNldEVsZW1lbnREaXNwbGF5KCdvcHBvbmVudC1ib2FyZCcsICdub25lJyk7XG4gIGRpc3BsYXlTaGlwcyhwbGF5ZXIuc2hpcHMpO1xuICBpbml0YWxpemVQbGF5ZXJHcmlkKHBsYXllcik7XG4gIGFkZEJ1dHRvbkV2ZW50TGlzdGVuZXJzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gIHBsYXllci52YWxpZGF0ZUFsbFNoaXBzUGxhY2VkKCk7XG4gIHNldFBsYXllclRpdGxlTmFtZSgpO1xuICBzZXRFbGVtZW50RGlzcGxheSgnc2hpcHMnLCAnbm9uZScpO1xuICBwb3B1bGF0ZU9wcG9uZW50R3JpZChvcHBvbmVudCk7XG4gIG9wcG9uZW50LnBsYWNlU2hpcHMoKTtcbiAgc2V0RWxlbWVudERpc3BsYXkoJ29wcG9uZW50LWJvYXJkJywgJ2ZsZXgnKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRHYW1lKCkge31cblxuYXBwTG9hZCgpO1xuIiwiaW1wb3J0IHsgcG9wdWxhdGVPcHBvbmVudEdyaWQsIHBvcHVsYXRlUGxheWVyR3JpZCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGdhbWVPdmVyLCB3aW5uZXIgfSBmcm9tICcuL2dhbWVMb29wLmpzJztcbmltcG9ydCB7XG4gIGFyZUFsbFNoaXBzUGxhY2VkLFxuICBhcmVBbGxTaGlwc1N1bmssXG4gIG1ha2VTaGlwcyxcbiAgbmV3R2FtZWJvYXJkLFxuICBwbGFjZVNoaXBzUmFuZG9tLFxufSBmcm9tICcuL2dhbWVib2FyZC5qcyc7XG5cbmltcG9ydCB7IHBsYXllciwgb3Bwb25lbnQgfSBmcm9tICcuL2luZGV4LmpzJztcblxuZnVuY3Rpb24gY3JlYXRlUGxheWVyKCkge1xuICBsZXQgbmFtZSA9ICdQbGF5ZXInO1xuICBjb25zdCBnYW1lYm9hcmQgPSBuZXdHYW1lYm9hcmQoKTtcbiAgY29uc3Qgc2hpcHMgPSBtYWtlU2hpcHMoKTtcbiAgbGV0IGFsbFNoaXBzUGxhY2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gY2xlYXJCb2FyZCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdhbWVib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnYW1lYm9hcmRbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZ2FtZWJvYXJkW2ldW2pdLmhhc1NoaXAgPSBudWxsO1xuICAgICAgICBnYW1lYm9hcmRbaV1bal0uaXNIaXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFNoaXBzKCkge1xuICAgIHNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgIHNoaXAuaXNQbGFjZWQgPSBmYWxzZTtcbiAgICAgIHNoaXAudmVydGljYWwgPSBmYWxzZTtcbiAgICAgIHNoaXAuaGl0cyA9IDA7XG4gICAgICBzaGlwLnN1bmsgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlU2hpcHMoKSB7XG4gICAgcGxhY2VTaGlwc1JhbmRvbSh0aGlzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY2VpdmVBdHRhY2soeCwgeSkge1xuICAgIGlmIChnYW1lYm9hcmRbeV1beF0uaXNIaXQgPT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBzcXVhcmUgaGFzIGFscmVhZHkgYmVlbiBoaXQhJyk7XG4gICAgfVxuICAgIGdhbWVib2FyZFt5XVt4XS5pc0hpdCA9IHRydWU7XG4gICAgaWYgKGdhbWVib2FyZFt5XVt4XS5oYXNTaGlwICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBzaGlwS2V5ID0gZ2FtZWJvYXJkW3ldW3hdLmhhc1NoaXA7XG4gICAgICBzaGlwc1tzaGlwS2V5XS5oaXQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZUFsbFNoaXBzUGxhY2VkKCkge1xuICAgIGNvbnN0IHBsYWNlZCA9IGFyZUFsbFNoaXBzUGxhY2VkKHNoaXBzKTtcbiAgICBpZiAocGxhY2VkID09PSB0cnVlKSB7XG4gICAgICBhbGxTaGlwc1BsYWNlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHBsYWNlIGFsbCBzaGlwcyBvbiB0aGUgYm9hcmQnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0YWtlVHVybih4LCB5KSB7XG4gICAgb3Bwb25lbnQucmVjZWl2ZUF0dGFjayh4LCB5KTtcbiAgICBpZiAoYXJlQWxsU2hpcHNTdW5rKG9wcG9uZW50LnNoaXBzKSkge1xuICAgICAgd2lubmVyID0gYCR7bmFtZX1gO1xuICAgICAgZ2FtZU92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBwb3B1bGF0ZU9wcG9uZW50R3JpZChvcHBvbmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFZhcmlhYmxlcygpIHtcbiAgICBuYW1lID0gJ1BsYXllcic7XG4gICAgY2xlYXJCb2FyZCgpO1xuICAgIGFsbFNoaXBzUGxhY2VkID0gZmFsc2U7XG4gICAgcmVzZXRTaGlwcygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGdhbWVib2FyZCxcbiAgICBzaGlwcyxcbiAgICB0YWtlVHVybixcbiAgICBhbGxTaGlwc1BsYWNlZCxcbiAgICBwbGFjZVNoaXBzLFxuICAgIHZhbGlkYXRlQWxsU2hpcHNQbGFjZWQsXG4gICAgY2xlYXJCb2FyZCxcbiAgICB0YWtlVHVybixcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIHJlc2V0VmFyaWFibGVzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlcigpIHtcbiAgY29uc3QgaXNDb21wdXRlciA9IHRydWU7XG4gIGNvbnN0IG5hbWUgPSAnQ29tcHV0ZXInO1xuICBjb25zdCBwcmV2TW92ZXMgPSBuZXcgU2V0KCk7XG4gIGNvbnN0IGdhbWVib2FyZCA9IG5ld0dhbWVib2FyZCgpO1xuICBjb25zdCBzaGlwcyA9IG1ha2VTaGlwcygpO1xuICBsZXQgYWxsU2hpcHNQbGFjZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnZXRSYW5kb21Db29yZGluYXRlcygpIHtcbiAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgaWYgKHByZXZNb3Zlcy5oYXMoYCR7eH0sJHt5fWApKSB7XG4gICAgICByZXR1cm4gZ2V0UmFuZG9tQ29vcmRpbmF0ZXMoKTtcbiAgICB9XG4gICAgcHJldk1vdmVzLmFkZChgJHt4fSwke3l9YCk7XG4gICAgcmV0dXJuIFt4LCB5XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQm9hcmQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZWJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGdhbWVib2FyZFtpXVtqXS5oYXNTaGlwID0gbnVsbDtcbiAgICAgICAgZ2FtZWJvYXJkW2ldW2pdLmlzSGl0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRTaGlwcygpIHtcbiAgICBzaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgICBzaGlwLmlzUGxhY2VkID0gZmFsc2U7XG4gICAgICBzaGlwLnZlcnRpY2FsID0gZmFsc2U7XG4gICAgICBzaGlwLmhpdHMgPSAwO1xuICAgICAgc2hpcC5zdW5rID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWNlaXZlQXR0YWNrKHgsIHkpIHtcbiAgICBpZiAoZ2FtZWJvYXJkW3ldW3hdLmlzSGl0ID09PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgc3F1YXJlIGhhcyBhbHJlYWR5IGJlZW4gaGl0IScpO1xuICAgIH1cbiAgICBnYW1lYm9hcmRbeV1beF0uaXNIaXQgPSB0cnVlO1xuICAgIGlmIChnYW1lYm9hcmRbeV1beF0uaGFzU2hpcCAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qgc2hpcEtleSA9IGdhbWVib2FyZFt5XVt4XS5oYXNTaGlwO1xuICAgICAgc2hpcHNbc2hpcEtleV0uaGl0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGFrZVR1cm4oKSB7XG4gICAgY29uc3QgW3gsIHldID0gZ2V0UmFuZG9tQ29vcmRpbmF0ZXMoKTtcbiAgICBwbGF5ZXIucmVjZWl2ZUF0dGFjayh4LCB5KTtcbiAgICBpZiAoYXJlQWxsU2hpcHNTdW5rKHBsYXllci5zaGlwcykpIHtcbiAgICAgIHdpbm5lciA9IGAke25hbWV9YDtcbiAgICAgIGdhbWVPdmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgcG9wdWxhdGVQbGF5ZXJHcmlkKHBsYXllcik7XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZVNoaXBzKCkge1xuICAgIHBsYWNlU2hpcHNSYW5kb20odGhpcyk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFZhcmlhYmxlcygpIHtcbiAgICBjbGVhckJvYXJkKCk7XG4gICAgYWxsU2hpcHNQbGFjZWQgPSBmYWxzZTtcbiAgICByZXNldFNoaXBzKCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGdhbWVib2FyZCxcbiAgICBzaGlwcyxcbiAgICB0YWtlVHVybixcbiAgICBpc0NvbXB1dGVyLFxuICAgIHBsYWNlU2hpcHMsXG4gICAgYWxsU2hpcHNQbGFjZWQsXG4gICAgY2xlYXJCb2FyZCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIHRha2VUdXJuLFxuICAgIHJlc2V0VmFyaWFibGVzLFxuICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVQbGF5ZXIsIGNyZWF0ZUNvbXB1dGVyIH07XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjcmVhdGVTaGlwIiwibmFtZSIsImxlbmd0aCIsImlzUGxhY2VkIiwidmVydGljYWwiLCJoaXRzIiwic3VuayIsImhpdCIsInRoaXMiLCJzaW5rQ2hlY2siLCJST1dTIiwiQ09MVU1OUyIsIm5ld0dhbWVib2FyZCIsImdhbWVib2FyZCIsIkFycmF5IiwiaSIsImoiLCJpc0hpdCIsImhhc1NoaXAiLCJtYWtlU2hpcHMiLCJuYW1lcyIsInNpemUiLCJzaGlwcyIsInNoaXAiLCJwdXNoIiwiYXJlQWxsU2hpcHNTdW5rIiwiZXZlcnkiLCJoYXNBZGphY2VudFNoaXAiLCJ4IiwieSIsInBsYWNlU2hpcCIsImN1cnJlbnRTaGlwIiwiaXNWZXJ0aWNhbCIsInBvc2l0aW9uQ2hlY2siLCJpc1ZhbGlkUG9zaXRpb24iLCJwbGFjZVNoaXBzUmFuZG9tIiwidXNlciIsInNoaXBMaXN0IiwicGxhY2VSYW5kb20iLCJ0dXJuU2hpcCIsIk1hdGgiLCJyYW5kb20iLCJfcmFuZG9tQ29vcmRzIiwiZmxvb3IiLCJjbGVhckJvYXJkIiwiZm9yRWFjaCIsInNlbGVjdGVkUGFydCIsInNoaXBLZXkiLCJnYW1lT3ZlciIsIndpbm5lciIsImNsZWFyQ29udGFpbmVyIiwiY29udGFpbmVySUQiLCJkaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwicG9wdWxhdGVQbGF5ZXJHcmlkIiwiZ3JpZCIsInJvdyIsImNlbGwiLCJjZWxsRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwiY29udGFpbnMiLCJjZWxsSGl0Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhcHBlbmRDaGlsZCIsInBvcHVsYXRlT3Bwb25lbnRHcmlkIiwiZ3JpZDIiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsInBsYXllciIsInRha2VUdXJuIiwib3Bwb25lbnQiLCJzZXRFbGVtZW50RGlzcGxheSIsInRleHRDb250ZW50IiwiZGlzcGxheVNoaXBzIiwicGxheWVyU2hpcHMiLCJuZXdTaGlwIiwic2V0QXR0cmlidXRlIiwic2hpcFBhcnQiLCJwYXJ0SW5kZXgiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZHJhZ2dhYmxlIiwiZXZlbnQiLCJyZW1vdmUiLCJOdW1iZXIiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFRhcmdldCIsImFkZERyYWdhYmlsaXR5IiwiZWxlbWVudElkIiwiZGlzcGxheVZhbHVlIiwiZGlzcGxheSIsInNldFBsYXllclRpdGxlTmFtZSIsIl9yZWYiLCJhbGxTaGlwc1BsYWNlZCIsInJlY2VpdmVBdHRhY2siLCJjb25jYXQiLCJfZGVmaW5lUHJvcGVydHkiLCJwbGFjZVNoaXBzIiwidmFsaWRhdGVBbGxTaGlwc1BsYWNlZCIsInBsYWNlZCIsImFyZUFsbFNoaXBzUGxhY2VkIiwiRXJyb3IiLCJjcmVhdGVQbGF5ZXIiLCJfcmVmMiIsInByZXZNb3ZlcyIsIlNldCIsImdldFJhbmRvbUNvb3JkaW5hdGVzIiwiaGFzIiwiX2dldFJhbmRvbUNvb3JkaW5hdGVzMiIsImlzQ29tcHV0ZXIiLCJjcmVhdGVDb21wdXRlciIsImFwcExvYWQiLCJjbGVhckJ0biIsInN0YXJ0QnRuIiwicmFuZG9tQnRuIiwicmVwbGF5QnRuIiwicHJldmVudERlZmF1bHQiLCJhZGRHYW1lYm9hcmRFdmVudExpc3RlbmVycyIsInBsYXllck5hbWUiLCJ2YWx1ZSIsInN0YXJ0R2FtZSIsInJlc2V0VmFyaWFibGVzIl0sInNvdXJjZVJvb3QiOiIifQ==